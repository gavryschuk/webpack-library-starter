!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("wordsai",[],e):"object"==typeof exports?exports.wordsai=e():t.wordsai=e()}("undefined"!=typeof self?self:this,function(){return function(t){var e={};function i(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(r,o,function(e){return t[e]}.bind(null,o));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=3)}([function(t,e,i){"use strict";e.__esModule=!0;var r=i(1);e.NODE_SEP=";",e.STRING_SEP=",",e.TERMINAL_PREFIX="!",e.MIN_LETTER="a",e.MAX_LETTER="z",e.MAX_WORD=new Array(10).join(e.MAX_LETTER);var o=new RegExp("(["+e.MIN_LETTER+"-"+e.MAX_LETTER+"]+)("+e.STRING_SEP+"|[0-9A-Z]+|$)","g"),n=new RegExp("([0-9A-Z]+):([0-9A-Z]+)"),s=function(){function t(t){for(this.syms=[],this.nodes=t.split(e.NODE_SEP),this.syms=[],this.symCount=0;;){var i=n.exec(this.nodes[this.symCount]);if(!i)break;if(r.fromAlphaCode(i[1])!==this.symCount)throw new Error("Invalid Symbol name - found "+i[1]+" when expecting "+r.toAlphaCode(this.symCount));this.syms[this.symCount]=r.fromAlphaCode(i[2]),this.symCount++}this.nodes.splice(0,this.symCount)}return t.prototype.isWord=function(t){return""!==t&&this.match(t)===t},t.prototype.match=function(t){var e=this.matches(t);return 0===e.length?"":e[e.length-1]},t.prototype.matches=function(t){return this.words(t,t+e.MIN_LETTER)},t.prototype.completions=function(t,i){return this.words(t,function(t){if(0===t.length)return e.MAX_WORD;var i=t.charCodeAt(t.length-1);return t.slice(0,-1)+String.fromCharCode(i+1)}(t),i)},t.prototype.words=function(t,i,r){var o=[];return this.enumerate(0,"",{from:t,beyond:i,fn:function(t,e){void 0!==r&&o.length>=r?e.abort=!0:o.push(t)},prefixes:t+e.MIN_LETTER===i}),o},t.prototype.enumerate=function(t,i,r){var n=this,s=this.nodes[t];function a(t){r.prefixes?t===r.from.slice(0,t.length)&&r.fn(t,r):r.from<=t&&t<r.beyond&&r.fn(t,r)}if(s[0]===e.TERMINAL_PREFIX){if(a(i),r.abort)return;s=s.slice(1)}s.replace(o,function(o,s,h){var u=i+s;return r.abort||u>=r.beyond||u<r.from.slice(0,u.length)?"":h===e.STRING_SEP||""===h?(a(u),""):(n.enumerate(n.inodeFromRef(h,t),u,r),"")})},t.prototype.inodeFromRef=function(t,e){var i=r.fromAlphaCode(t);return i<this.symCount?this.syms[i]:e+(i-=this.symCount)+1},t}();e.PTrie=s},function(t,e,i){"use strict";e.__esModule=!0,e.BASE=36;var r=function(){return function(){}}();e.PTrie=r,e.toAlphaCode=function(t){for(var i="",r=1,o=e.BASE;t>=o;t-=o,r++,o*=e.BASE);for(;r--;){var n=t%e.BASE;i=String.fromCharCode((n<10?48:55)+n)+i,t=(t-n)/e.BASE}return i},e.fromAlphaCode=function(t){for(var i=0,r=1,o=e.BASE;r<t.length;i+=o,r++,o*=e.BASE);for(var n=t.length-1,s=1;n>=0;n--,s*=e.BASE){var a=t.charCodeAt(n)-48;a>10&&(a-=7),i+=a*s}return i}},function(t,e,i){"use strict";function r(t,e,i){void 0===i&&(i="asc");var r=0;return t<e?r=-1:t>e&&(r=1),"asc"===i?r:-r}e.__esModule=!0,e.sortByValues=function(t,e){void 0===e&&(e="asc");var i=[];for(var o in t)i.push([o,t[o]]);return i.sort(function(t,i){return r(t[1],i[1],e)}),i},e.unique=function(t,e){void 0===e&&(e=r),t.sort(e);for(var i=1;i<t.length;i++)0===e(t[i-1],t[i])&&t.splice(i,1)}},function(t,e,i){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=((r=i(4))&&r.__esModule?r:{default:r}).default;e.default=o,t.exports=e.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(5);function o(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function n(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._dictionaries={},this.endBoard()}return s(t,[{key:"alphabet",get:function(){if(!this._a){this._a=[];for(var t="a".charCodeAt(0),e="z".charCodeAt(0);t<=e;++t)this._a.push(String.fromCharCode(t))}return this._a}},{key:"points",get:function(){return this._points}},{key:"boardSize",get:function(){return this._boardSize}},{key:"usedWords",get:function(){return this._usedWords}},{key:"board",get:function(){return this._board}},{key:"dictionaries",get:function(){return this._dictionaries}}]),s(t,[{key:"addMainDictionary",value:function(t,e){this._addDictionary(t,e),this._mainDictionary=this._dictionaries[t]}},{key:"addSecondaryDictionary",value:function(t,e){this._addDictionary(t,e),this._secondaryDictionary=this._dictionaries[t]}},{key:"startBoard",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._defaultBoardSize;this._boardSize=t,this._cleanBoard(),this._setInitialRandomWord()}},{key:"endBoard",value:function(){this._points=0,this._boardSize=this._defaultBoardSize,this._usedWords=[],this._mainDictionary=null,this._secondaryDictionary=null,this._cleanBoard()}},{key:"isUsedWord",value:function(t){return!t||!this._usedWords||this._usedWords.find(function(e){return e.toLowerCase()===t.toLowerCase()})}},{key:"doesWordExist",value:function(t){if(!t)return!1;var e=this._getLetterID([].concat(o(t))[0]);return this._getWordsArrayByLetterID(e).find(function(e){return e.toLowerCase()===t.toLowerCase()})}},{key:"checkPossibleCells",value:function(t,e,i,r){if(t<0||e<0||(i?e:t)+r>this._boardSize)return!1;for(var o=0,n=0,s=0;s<r;s++){var a=i?t:t+s,h=i?e+s:e,u=this._board[h][a];this._isAString(u)?n++:(u>=3||i&&1===u||!i&&2===u)&&o++}return!(n===r||o||!n&&this._usedWords.length)}},{key:"addWord",value:function(t,e,i){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return!i||!i.length||i.length<3?(console.log("word length is less than 3 letters!"),!1):this.checkPossibleCells(t,e,r,i.length)?this._checkPossibleLetters(t,e,i,r)?this.isUsedWord(i)?(console.log("word is already used"),!1):this.doesWordExist(i)?([].concat(o(i)).forEach(function(i,o){var n=e+(r?o:0),s=t+(r?0:o);this._board[n][s]=i.toLowerCase();for(var a=0;a<2;a++){var h=s+(r?a?1:-1:0),u=n+(r?0:a?1:-1);if(!(h<0||h>=this._boardSize||u<0||u>=this._boardSize)){var l=this._board[u][h];r&&!this._isAVerticalBlocker(l)&&(this._board[u][h]+=1),r||this._isAHorizontalBlocker(l)||(this._board[u][h]+=2)}}},this),r?(e&&(this._board[e-1][t]=3),e+i.length<this._boardSize&&(this._board[e+i.length][t]=3)):(t&&(this._board[e][t-1]=3),t+i.length<this._boardSize&&(this._board[e][t+i.length]=3)),this._usedWords.push(i),this._checkPointsForWord(i),!0):(console.log("word doesn't exist in dictionary"),!1):(console.log("possible letters check failed!"),!1):(console.log("possible cells check failed!"),!1)}},{key:"getHintWord",value:function(){for(var t={x:0,y:0,vertical:!1,word:null},e=t,i=0;i<this._boardSize;i++)for(var r=0;r<this._boardSize;r++){var o=this._board[i][r];if(this._isAString(o)&&((e=this._findPossibleWord(r,i)).word&&(!t.word||t.word&&e.word.length>t.word.length)&&(t=e),t.word&&t.word.length===this._boardSize))return t}return t}},{key:"_isAString",value:function(t){return"string"==typeof t}},{key:"_isANumber",value:function(t){return!this._isAString(t)}},{key:"_isAVerticalBlocker",value:function(t){return!this._isANumber(t)||1===t||t>=3}},{key:"_isAHorizontalBlocker",value:function(t){return!this._isANumber(t)||2===t||t>=3}},{key:"_checkPossibleLetters",value:function(t,e,i){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=0;n<i.length;n++){var s=r?t:t+n,a=r?e+n:e,h=this._board[a][s];if(this._isAString(h)&&h!==[].concat(o(i))[n])return!1}return!0}},{key:"_addDictionary",value:function(t,e){if(!(t in this._dictionaries)){var i=new r.Trie(e);this._dictionaries[t]=new r.PTrie(i.pack())}}},{key:"_cleanBoard",value:function(){this._board=[];for(var t=0;t<this._boardSize;t++){for(var e=[],i=0;i<this._boardSize;i++)e.push(0);this._board.push(e)}}},{key:"_setInitialRandomWord",value:function(){for(var t=null,e=Math.floor(Math.random()*(this.alphabet.length-2));!t;){for(var i=this._getWordsArrayByLetterID(e,1),r=0;r<i.length;r++){var o=i[r];if(!(this.isUsedWord(o)||o.length<Math.floor(.5*this._boardSize)||o.length>=Math.floor(this._boardSize))){t=o;break}}e=e<this.alphabet.length-1?e+1:0}var n=Math.floor(.5*(this._boardSize-t.length)),s=Math.floor(.4*this._boardSize+Math.random()*(.2*this._boardSize));this.addWord(n,s,t)}},{key:"_getLetterID",value:function(t){for(var e=0;e<this.alphabet.length;e++)if(this.alphabet[e].toLowerCase()===t.toLowerCase())return e;return 0}},{key:"_getWordsArrayByLetterID",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this.alphabet[t],r=this.alphabet[t<this.alphabet.length-1?t+1:0],o=[],n=e?this._secondaryDictionary:this._mainDictionary;return n&&(o=n.words(i,r)),n=null,o}},{key:"_findPossibleWord",value:function(t,e){for(var i=null,r=null,o=0,n=0,s=!1,a=0;a<2;a++)if(s=!!a,(i=this._generateRegExp(t,e,s))&&(r=this._findWordByRegExp(i.regExp))){for(var h=0;h<=i.before+1;h++)if(h<r.length&&r[h].toString()===this._board[e][t].toString()&&(s?e:t)-h>=0&&(s?e:t)-h+r.length<=this._boardSize){var u=s?t:t+i.between+(i.between?1:0),l=s?e+i.between+(i.between?1:0):e;if(this._board[l][u]===r[h+i.between+(i.between?1:0)]){o=s?t:t-h,n=s?e-h:e;break}}if(r)break}return{x:o,y:n,word:r,vertical:s}}},{key:"_generateRegExp",value:function(t,e){var i=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o="",n=Math.max(this._boardSize-(r?e:t),r?e:t),s=new Array(this._boardSize);s[r?e:t]=this._board[e][t];for(var a=!1,h=!1,u=0,l=function(t){var e=r&&i._isAVerticalBlocker(t),o=!r&&i._isAHorizontalBlocker(t);return e||o},d=function(t,e,o,n){(r?e-o:t-o)>0&&n&&i._isAString(i._board[r?e-o-1:e][r?t:t-o-1])&&(s[r?e-o-1:t-o-1]=null)},f=1;f<n;f++){var c=null;(r?e:t)-f>=0&&!a&&(l(c=this._board[r?e-f:e][r?t:t-f])?this._isAString(c)&&!u?(s[r?e-f:t-f]=c,u++):(a=!0,f>1&&this._isAString(c)&&(s[r?e-f+1:t-f+1]=null)):s[r?e-f:t-f]="[a-z]"),(r?e:t)+f<this._boardSize&&!h&&(l(c=this._board[r?e+f:e][r?t:t+f])?this._isAString(c)&&!u?(s[r?e+f:t+f]=c,u++):(h=!0,f>1&&this._isAString(c)&&(s[r?e+f-1:t+f-1]=null),d(t,e,f,u)):(s[r?e+f:t+f]="[a-z]",d(t,e,f,u)))}o+="^(";var p=0,_=0,v=0,g=0;return u=0,s.forEach(function(t,e){t&&"[a-z]"===t?_++:t&&(u||(p=_),1===++u?o+="[a-z]{0,"+_+"}"+t.toLowerCase():2===u&&(g=_,o+="[a-z]{"+_+"}"+t.toLowerCase()),v+=_,_=0)},this),_&&(o+="[a-z]{0,"+_+"}"),o+=")$",(v+=_)?{before:p,between:g,totalFree:v,regExp:o}:null}},{key:"_findWordByRegExp",value:function(t){for(var e=null,i=Math.floor(Math.random()*(this.alphabet.length-2)),r=i,o=new RegExp(t);!e;){var n=this._getWordsArrayByLetterID(r,1);if(e=null,n.forEach(function(t){t.match(o)&&t.length>=3&&!this.isUsedWord(t)&&(!e||t.length>e.length)&&(e=t)},this),e)break;if((r=r<this.alphabet.length-1?r+1:0)===i)break}return e}},{key:"_checkPointsForWord",value:function(t){if(t&&!(this._usedWords.length<3)){t=t.toLowerCase();var e=this._getLetterID([].concat(o(t))[0]);this._getWordsArrayByLetterID(e,1).find(function(e){return e===t})&&(this._points+=t.length)}}},{key:"_defaultBoardSize",get:function(){return 11}}]),t}();e.default=a,t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0;var r=i(6);e.Trie=r.Trie;var o=i(0);e.PTrie=o.PTrie},function(t,e,i){"use strict";e.__esModule=!0;var r=i(0),o=i(1),n=i(7),s=i(2),a=i(8),h=!1,u=function(){function t(t){this.root=new a.Node,this.lastWord="",this.suffixes={},this.cNext=1,this.wordCount=0,this.vCur=0,this.insertWords(t)}return t.prototype.insertWords=function(t){var e;if(void 0!==t){for("string"==typeof t&&(t=t.split(/[^a-zA-Z]+/)),e=0;e<t.length;e++)t[e]=t[e].toLowerCase();for(s.unique(t),e=0;e<t.length;e++)this.insert(t[e])}},t.prototype.insert=function(t){this._insert(t,this.root);var e=this.lastWord;if(this.lastWord=t,l(t,e)!==e){var i=this.uniqueNode(e,t,this.root);i&&this.combineSuffixNode(i)}},t.prototype._insert=function(t,e){var i,r,o;if(0!==t.length){for(o in e)if(e.hasOwnProperty(o)&&0!==(i=l(t,o)).length){if(o===i&&a.Node.isNode(e.child(o)))return void this._insert(t.slice(i.length),e.child(o));if(o===t&&e.isTerminalString(o))return;return(r=new a.Node).setChild(o.slice(i.length),e.child(o)),this.addTerminal(r,t=t.slice(i.length)),e.deleteChild(o),e.setChild(i,r),void this.wordCount++}this.addTerminal(e,t),this.wordCount++}},t.prototype.addTerminal=function(t,e){if(e.length<=1)t.setChild(e,1);else{var i=new a.Node;t.setChild(e[0],i),this.addTerminal(i,e.slice(1))}},t.prototype.optimize=function(){this.combineSuffixNode(this.root),this.prepDFS(),this.countDegree(this.root),this.prepDFS(),this.collapseChains(this.root)},t.prototype.combineSuffixNode=function(t){if(t._c)return t;var e=[];t.isTerminal()&&e.push("!");for(var i=t.props(),r=0;r<i.length;r++){var o=i[r];a.Node.isNode(t.child(o))?(t.setChild(o,this.combineSuffixNode(t.child(o))),e.push(o),e.push(t.child(o)._c)):e.push(o)}var n=e.join("-"),s=this.suffixes[n];return s||(this.suffixes[n]=t,t._c=this.cNext++,t)},t.prototype.prepDFS=function(){this.vCur++},t.prototype.visited=function(t){if(t._v===this.vCur)return!0;t._v=this.vCur},t.prototype.countDegree=function(t){if(void 0===t._d&&(t._d=0),t._d++,!this.visited(t))for(var e=t.props(!0),i=0;i<e.length;i++)this.countDegree(t.child(e[i]))},t.prototype.collapseChains=function(t){var e,i,r="-invalid-";if(!this.visited(t)){for(e=t.props(),i=0;i<e.length;i++){r=e[i];var o=t.child(r);a.Node.isNode(o)&&(this.collapseChains(o),void 0===o._g||1!==o._d&&1!==o._g.length||(t.deleteChild(r),r+=o._g,t.setChild(r,o.child(o._g))))}1!==e.length||t.isTerminal()||(t._g=r)}},t.prototype.isWord=function(t){return this.isFragment(t,this.root)},t.prototype.isFragment=function(t,e){if(0===t.length)return e.isTerminal();if(1===e.child(t))return!0;for(var i=e.props(!0),r=0;r<i.length;r++){var o=i[r];if(o===t.slice(0,o.length))return this.isFragment(t.slice(o.length),e.child(o))}return!1},t.prototype.uniqueNode=function(t,e,i){for(var r=i.props(!0),o=0;o<r.length;o++){var n=r[o];if(n===t.slice(0,n.length))return n!==e.slice(0,n.length)?i.child(n):this.uniqueNode(t.slice(n.length),e.slice(n.length),i.child(n))}},t.prototype.pack=function(){var t,e=this,i=[],s={},a=0;function h(t){var e="",i="";t.isTerminal()&&(e+=r.TERMINAL_PREFIX);for(var n=t.props(),a=0;a<n.length;a++){var h=n[a];if(t.isTerminalString(h))e+=i+h,i=r.STRING_SEP;else{var u=t.child(h);if(s[u._n])e+=i+h+s[u._n],i="";else{var l=o.toAlphaCode(t._n-u._n-1+c);u._g&&l.length>=u._g.length&&t.isTerminalString(u._g)?(e+=i+h+(l=u._g),i=r.STRING_SEP):(e+=i+h+l,i="")}}}return e}this.optimize();var u=new n.Histogram,l=new n.Histogram;!function t(e){if(void 0===e._n){for(var r=e.props(!0),o=0;o<r.length;o++)t(e.child(r[o]));e._n=a++,i.unshift(e)}}(this.root),t=i.length,this.prepDFS(),function t(i){if(!e.visited(i))for(var r=i.props(!0),n=0;n<r.length;n++){var s=r[n],a=i.child(s),h=i._n-a._n-1;h<o.BASE&&l.add(h),u.add(a._n,o.toAlphaCode(h).length-1),t(a)}}(this.root);for(var f=function(){var e=u.highest(o.BASE),i=[];i[-1]=0;for(var r=0,n=0,s=3+o.toAlphaCode(t).length,a=0;a<o.BASE&&void 0!==e[a];a++)i[a]=e[a][1]-s-l.countOf(o.BASE-a-1)+i[a-1],d("savings["+a+"] "+i[a]+" = "+i[a-1]+" +"+e[a][1]+" - "+s+" - "+l.countOf(o.BASE-a-1)+")"),i[a]>=r&&(r=i[a],n=a+1);return[n,e]}(),c=f[0],p=f[1],_=0;_<c;_++)s[p[_][0]]=o.toAlphaCode(_);for(var v=[],g=0;g<t;g++)v[g]=h(i[g]);for(_=c-1;_>=0;_--)v.unshift(o.toAlphaCode(_)+":"+o.toAlphaCode(t-parseInt(p[_][0],10)-1));return v.join(r.NODE_SEP)},t}();function l(t,e){var i,r=Math.min(t.length,e.length);for(i=0;i<r&&t[i]===e[i];i++);return t.slice(0,i)}function d(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];h&&console.log.apply(console,[t].concat(e))}e.Trie=u},function(t,e,i){"use strict";e.__esModule=!0;var r=i(2),o=function(){function t(){this.counts={}}return t.prototype.init=function(t,e){void 0===e&&(e=0),"number"==typeof t&&(t=t.toString()),void 0===this.counts[t]&&(this.counts[t]=0),this.counts[t]+=e},t.prototype.add=function(t,e){void 0===e&&(e=1),this.init(t,e)},t.prototype.countOf=function(t){return this.init(t),this.counts[t]},t.prototype.highest=function(t){return r.sortByValues(this.counts,"desc").slice(0,t)},t}();e.Histogram=o},function(t,e,i){"use strict";e.__esModule=!0;var r=function(){function t(){this._p=0}return t.prototype.child=function(t){return this[t]},t.prototype.setChild=function(t,e){this._g,void 0!==this[t]&&(this._p+=1),this._p,this[t]=e},t.prototype.deleteChild=function(t){this._g,this._p-=1,delete this[t],this._p},t.prototype.isTerminalString=function(t){return"number"==typeof this.child(t)},t.prototype.isTerminal=function(){return this.isTerminalString("")},t.prototype.props=function(e){var i=[];for(var r in this)this.hasOwnProperty(r)&&""!==r&&"_"!==r[0]&&(e&&!t.isNode(this.child(r))||i.push(r));return i.sort(),i},t.countDegree=function(t){new o(t).dfs(function(t,e){"post"!==t&&(void 0===e._d&&(e._d=0),e._d++)})},t.prototype.isSingleton=function(){return 1===this._p&&!this.isTerminal()},t.isNode=function(e){return e instanceof t},t}();e.Node=r;var o=function(){function t(t){this.root=t,this.visitMap=new Map}return t.prototype.reset=function(){return this.visitMap=new Map,this},t.prototype.visit=function(t){this.visitMap.set(t,!0)},t.prototype.visited=function(t){return this.visitMap.get(t)||!1},t.prototype.dfs=function(t){this.reset(),this._dfs(this.root,null,"",t)},t.prototype._dfs=function(t,e,i,r){if(r("pre",t,e,i),!this.visited(t)){this.visit(t);for(var o=0,n=t.props(!0);o<n.length;o++){var s=n[o];this._dfs(t.child(s),t,s,r)}r("post",t,e,i)}},t}();e.Walker=o}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93b3Jkc2FpL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly93b3Jkc2FpL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3dvcmRzYWkvLi9ub2RlX21vZHVsZXMvZGF3Zy1sb29rdXAvbGliL3B0cmllLmpzIiwid2VicGFjazovL3dvcmRzYWkvLi9ub2RlX21vZHVsZXMvZGF3Zy1sb29rdXAvbGliL2FscGhhY29kZS5qcyIsIndlYnBhY2s6Ly93b3Jkc2FpLy4vbm9kZV9tb2R1bGVzL2Rhd2ctbG9va3VwL2xpYi91dGlsLmpzIiwid2VicGFjazovL3dvcmRzYWkvLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vd29yZHNhaS8uL3NyYy9haS5qcyIsIndlYnBhY2s6Ly93b3Jkc2FpLy4vbm9kZV9tb2R1bGVzL2Rhd2ctbG9va3VwL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly93b3Jkc2FpLy4vbm9kZV9tb2R1bGVzL2Rhd2ctbG9va3VwL2xpYi90cmllLmpzIiwid2VicGFjazovL3dvcmRzYWkvLi9ub2RlX21vZHVsZXMvZGF3Zy1sb29rdXAvbGliL2hpc3RvZ3JhbS5qcyIsIndlYnBhY2s6Ly93b3Jkc2FpLy4vbm9kZV9tb2R1bGVzL2Rhd2ctbG9va3VwL2xpYi9ub2RlLmpzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsInNlbGYiLCJ0aGlzIiwiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImFscGhhY29kZV8xIiwiTk9ERV9TRVAiLCJTVFJJTkdfU0VQIiwiVEVSTUlOQUxfUFJFRklYIiwiTUlOX0xFVFRFUiIsIk1BWF9MRVRURVIiLCJNQVhfV09SRCIsIkFycmF5Iiwiam9pbiIsInJlTm9kZVBhcnQiLCJSZWdFeHAiLCJyZVN5bWJvbCIsIlBUcmllIiwicGFja2VkIiwic3ltcyIsIm5vZGVzIiwic3BsaXQiLCJzeW1Db3VudCIsImV4ZWMiLCJmcm9tQWxwaGFDb2RlIiwiRXJyb3IiLCJ0b0FscGhhQ29kZSIsInNwbGljZSIsImlzV29yZCIsIndvcmQiLCJtYXRjaCIsIm1hdGNoZXMiLCJsZW5ndGgiLCJ3b3JkcyIsImNvbXBsZXRpb25zIiwicHJlZml4IiwibGltaXQiLCJjb2RlIiwiY2hhckNvZGVBdCIsInNsaWNlIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiYmV5b25kIiwiZnJvbSIsImVudW1lcmF0ZSIsImZuIiwiY3R4IiwidW5kZWZpbmVkIiwiYWJvcnQiLCJwdXNoIiwicHJlZml4ZXMiLCJpbm9kZSIsIl90aGlzIiwibm9kZSIsImVtaXQiLCJyZXBsYWNlIiwidyIsInN0ciIsInJlZiIsImlub2RlRnJvbVJlZiIsImlub2RlRnJvbSIsImRub2RlIiwiQkFTRSIsInBsYWNlcyIsInJhbmdlIiwicG93IiwiY21wRGVmYXVsdCIsImEiLCJiIiwiZGlyIiwicmVzdWx0Iiwic29ydEJ5VmFsdWVzIiwic29ydCIsInVuaXF1ZSIsImNtcCIsIl9kYXdnTG9va3VwIiwiQUkiLCJfY2xhc3NDYWxsQ2hlY2siLCJfZGljdGlvbmFyaWVzIiwiZW5kQm9hcmQiLCJfYSIsImoiLCJfcG9pbnRzIiwiX2JvYXJkU2l6ZSIsIl91c2VkV29yZHMiLCJfYm9hcmQiLCJzdHJpbmciLCJfYWRkRGljdGlvbmFyeSIsIl9tYWluRGljdGlvbmFyeSIsIl9zZWNvbmRhcnlEaWN0aW9uYXJ5IiwiYm9hcmRTaXplIiwiYXJndW1lbnRzIiwiX2RlZmF1bHRCb2FyZFNpemUiLCJfY2xlYW5Cb2FyZCIsIl9zZXRJbml0aWFsUmFuZG9tV29yZCIsImZpbmQiLCJlbGVtZW50IiwidG9Mb3dlckNhc2UiLCJmaXJzdExldHRlcklEIiwiX2dldExldHRlcklEIiwiY29uY2F0IiwiX3RvQ29uc3VtYWJsZUFycmF5IiwiX2dldFdvcmRzQXJyYXlCeUxldHRlcklEIiwic3RhcnRYIiwic3RhcnRZIiwidmVydGljYWwiLCJhbW91bnQiLCJibG9ja2Vyc0NvdW50ZXIiLCJsZXR0ZXJzQ291bnRlciIsImNoZWNrWCIsImNoZWNrWSIsIl9pc0FTdHJpbmciLCJjb25zb2xlIiwibG9nIiwiY2hlY2tQb3NzaWJsZUNlbGxzIiwiX2NoZWNrUG9zc2libGVMZXR0ZXJzIiwiaXNVc2VkV29yZCIsImRvZXNXb3JkRXhpc3QiLCJmb3JFYWNoIiwiaW5kZXgiLCJlbGVtZW50WSIsImVsZW1lbnRYIiwidGFyZ2V0WCIsInRhcmdldFkiLCJ0YXJnZXRFbGVtZW50IiwiX2lzQVZlcnRpY2FsQmxvY2tlciIsIl9pc0FIb3Jpem9udGFsQmxvY2tlciIsIl9jaGVja1BvaW50c0ZvcldvcmQiLCJyZXR1cm5FbGVtZW50IiwieCIsInkiLCJjdXJyZW50RWxlbWVudCIsIl9maW5kUG9zc2libGVXb3JkIiwiX2lzQU51bWJlciIsImRpY3QiLCJUcmllIiwicGFjayIsIl9hcnJheSIsInJhbmRvbUxldHRlcklEIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiYWxwaGFiZXQiLCJyYW5kb21Xb3JkcyIsInJhbmRvbVdvcmQiLCJhZGRXb3JkIiwibGV0dGVyIiwibGV0dGVySUQiLCJkaWN0aW9uYXJ5VHlwZSIsImN1cnJlbnRMZXR0ZXIiLCJuZXh0TGV0dGVyIiwiZGljdGlvbmFyeSIsInJlZ0V4cE9iamVjdCIsInJldHVybldvcmQiLCJyZXR1cm5YIiwicmV0dXJuWSIsIl9nZW5lcmF0ZVJlZ0V4cCIsIl9maW5kV29yZEJ5UmVnRXhwIiwicmVnRXhwIiwiYmVmb3JlIiwidG9TdHJpbmciLCJiZXR3ZWVuIiwiaURpZmYiLCJtYXgiLCJ3b3JkQXJyYXkiLCJpc1RvcEJsb2NrZWQiLCJpc0JvdHRvbUJsb2NrZWQiLCJjaGVja0lmQmxvY2tlciIsImlzVmVydGljYWxCbG9ja2VyIiwiaXNIb3Jpem9udGFsQmxvY2tlciIsImNoZWNrVG9wRWxlbWVudCIsImJlZm9yZUxldHRlckNvdW50ZXIiLCJhbnlDb3VudGVyIiwidG90YWxGcmVlQ291bnRlciIsImJldHdlZW5MZXR0ZXJzQ291bnRlciIsInRvdGFsRnJlZSIsInN0YXJ0TGV0dGVySUQiLCJyZWd1bGFyRXhwcmVzc2lvbiIsInRyaWVfMSIsInB0cmllXzEiLCJwdHJpZSIsImhpc3RvZ3JhbV8xIiwidXRpbF8xIiwibm9kZV8xIiwiREVCVUciLCJOb2RlIiwibGFzdFdvcmQiLCJzdWZmaXhlcyIsImNOZXh0Iiwid29yZENvdW50IiwidkN1ciIsImluc2VydFdvcmRzIiwiaW5zZXJ0IiwiX2luc2VydCIsImNvbW1vblByZWZpeCIsImZyZWV6ZSIsInVuaXF1ZU5vZGUiLCJjb21iaW5lU3VmZml4Tm9kZSIsIm5leHQiLCJwcm9wIiwiaXNOb2RlIiwiY2hpbGQiLCJpc1Rlcm1pbmFsU3RyaW5nIiwic2V0Q2hpbGQiLCJhZGRUZXJtaW5hbCIsImRlbGV0ZUNoaWxkIiwib3B0aW1pemUiLCJwcmVwREZTIiwiY291bnREZWdyZWUiLCJjb2xsYXBzZUNoYWlucyIsIl9jIiwic2lnIiwiaXNUZXJtaW5hbCIsInByb3BzIiwic2lnU3RyaW5nIiwic2hhcmVkIiwidmlzaXRlZCIsIl92IiwiX2QiLCJfZyIsImlzRnJhZ21lbnQiLCJvdGhlciIsIm5vZGVDb3VudCIsInBvcyIsIm5vZGVMaW5lIiwibGluZSIsInNlcCIsIl9uIiwiaGlzdEFicyIsIkhpc3RvZ3JhbSIsImhpc3RSZWwiLCJudW1iZXJOb2RlcyIsInVuc2hpZnQiLCJhbmFseXplUmVmcyIsImFkZCIsInRvcE5vZGVzIiwiaGlnaGVzdCIsInNhdmluZ3MiLCJiZXN0IiwiY291bnQiLCJkZWZTaXplIiwic3ltIiwiY291bnRPZiIsInN5bWJvbENvdW50Iiwibm9kZUxpbmVzIiwicGFyc2VJbnQiLCJ3MSIsIncyIiwibWF4bGVuIiwibWluIiwibWVzc2FnZSIsImFyZ3MiLCJfaSIsImFwcGx5IiwiY291bnRzIiwiaW5pdCIsInRvcCIsIl9wIiwibm9kZXNPbmx5IiwiV2Fsa2VyIiwiZGZzIiwib3JkZXIiLCJpc1NpbmdsZXRvbiIsInZpc2l0TWFwIiwiTWFwIiwicmVzZXQiLCJ2aXNpdCIsInNldCIsImhhbmRsZXIiLCJfZGZzIiwicGFyZW50IiwicHJvcFBhcmVudCIsInByb3BzXzEiXSwibWFwcGluZ3MiOiJDQUFBLFNBQUFBLEVBQUFDLEdBQ0EsaUJBQUFDLFNBQUEsaUJBQUFDLE9BQ0FBLE9BQUFELFFBQUFELElBQ0EsbUJBQUFHLGVBQUFDLElBQ0FELE9BQUEsYUFBQUgsR0FDQSxpQkFBQUMsUUFDQUEsUUFBQSxRQUFBRCxJQUVBRCxFQUFBLFFBQUFDLElBUkEsQ0FTQyxvQkFBQUssVUFBQUMsS0FBQSxXQUNELG1CQ1RBLElBQUFDLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQVIsUUFHQSxJQUFBQyxFQUFBSyxFQUFBRSxHQUFBLENBQ0FDLEVBQUFELEVBQ0FFLEdBQUEsRUFDQVYsUUFBQSxJQVVBLE9BTkFXLEVBQUFILEdBQUFJLEtBQUFYLEVBQUFELFFBQUFDLElBQUFELFFBQUFPLEdBR0FOLEVBQUFTLEdBQUEsRUFHQVQsRUFBQUQsUUEwREEsT0FyREFPLEVBQUFNLEVBQUFGLEVBR0FKLEVBQUFPLEVBQUFSLEVBR0FDLEVBQUFRLEVBQUEsU0FBQWYsRUFBQWdCLEVBQUFDLEdBQ0FWLEVBQUFXLEVBQUFsQixFQUFBZ0IsSUFDQUcsT0FBQUMsZUFBQXBCLEVBQUFnQixFQUFBLENBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDVixFQUFBZ0Is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LEVBQUF6UyxHQUNBTyxLQUFBUCxPQUNBTyxLQUFBc1MsU0FBQSxJQUFBQyxJQWdDQSxPQTlCQUwsRUFBQWxRLFVBQUF3USxNQUFBLFdBRUEsT0FEQXhTLEtBQUFzUyxTQUFBLElBQUFDLElBQ0F2UyxNQUVBa1MsRUFBQWxRLFVBQUF5USxNQUFBLFNBQUFyTixHQUNBcEYsS0FBQXNTLFNBQUFJLElBQUF0TixHQUFBLElBRUE4TSxFQUFBbFEsVUFBQXVOLFFBQUEsU0FBQW5LLEdBQ0EsT0FBQXBGLEtBQUFzUyxTQUFBclIsSUFBQW1FLEtBQUEsR0FFQThNLEVBQUFsUSxVQUFBbVEsSUFBQSxTQUFBUSxHQUNBM1MsS0FBQXdTLFFBQ0F4UyxLQUFBNFMsS0FBQTVTLEtBQUFQLEtBQUEsUUFBQWtULElBR0FULEVBQUFsUSxVQUFBNFEsS0FBQSxTQUFBeE4sRUFBQXlOLEVBQUFDLEVBQUFILEdBSUEsR0FEQUEsRUFBQSxNQUFBdk4sRUFBQXlOLEVBQUFDLElBQ0E5UyxLQUFBdVAsUUFBQW5LLEdBQUEsQ0FHQXBGLEtBQUF5UyxNQUFBck4sR0FFQSxJQURBLElBQ0F1TSxFQUFBLEVBQUFvQixFQURBM04sRUFBQWdLLE9BQUEsR0FDeUN1QyxFQUFBb0IsRUFBQWhQLE9BQXFCNE4sSUFBQSxDQUM5RCxJQUFBckQsRUFBQXlFLEVBQUFwQixHQUNBM1IsS0FBQTRTLEtBQUF4TixFQUFBb0osTUFBQUYsR0FBQWxKLEVBQUFrSixFQUFBcUUsR0FFQUEsRUFBQSxPQUFBdk4sRUFBQXlOLEVBQUFDLEtBRUFaLEVBbkNBLEdBcUNBdlMsRUFBQXVTIiwiZmlsZSI6IndvcmRzYWkubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoXCJ3b3Jkc2FpXCIsIFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIndvcmRzYWlcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wid29yZHNhaVwiXSA9IGZhY3RvcnkoKTtcbn0pKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB0aGlzLCBmdW5jdGlvbigpIHtcbnJldHVybiAiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMyk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG52YXIgYWxwaGFjb2RlXzEgPSByZXF1aXJlKFwiLi9hbHBoYWNvZGVcIik7XG5leHBvcnRzLk5PREVfU0VQID0gJzsnO1xuZXhwb3J0cy5TVFJJTkdfU0VQID0gJywnO1xuZXhwb3J0cy5URVJNSU5BTF9QUkVGSVggPSAnISc7XG5leHBvcnRzLk1JTl9MRVRURVIgPSAnYSc7XG5leHBvcnRzLk1BWF9MRVRURVIgPSAneic7XG5leHBvcnRzLk1BWF9XT1JEID0gbmV3IEFycmF5KDEwKS5qb2luKGV4cG9ydHMuTUFYX0xFVFRFUik7XG52YXIgcmVOb2RlUGFydCA9IG5ldyBSZWdFeHAoJyhbJyArIGV4cG9ydHMuTUlOX0xFVFRFUiArICctJyArIGV4cG9ydHMuTUFYX0xFVFRFUiArXG4gICAgJ10rKSgnICsgZXhwb3J0cy5TVFJJTkdfU0VQICsgJ3xbMC05QS1aXSt8JCknLCAnZycpO1xudmFyIHJlU3ltYm9sID0gbmV3IFJlZ0V4cChcIihbMC05QS1aXSspOihbMC05QS1aXSspXCIpO1xuLypcbiAqIFBhY2tlZCBUcmllIHN0cnVjdHVyZS5cbiAqXG4gKiBUaGlzIGNsYXNzIGNhbiByZWFkIGluIGEgcGFja2VkIFRyaWUgKGFjdHVhbGx5IERBV0cpIGluIHRoZSBmb3JtXG4gKiBvZiBhIHN0cmluZyBlbmNvZGluZyBvZiBhIHNldCBvZiBub2Rlcy4gIEl0IHdpbGwgdGhlbiBzcGlsdCBpdFxuICogaW50byBhbiBhcnJheSBvZiBzdHJpbmdzLCBhbmQgdXNlIHRoZSByZXN1bHRpbmcgYXJyYXkgdG9cbiAqIHJlc29sdmUgZGljdGlvbmFyeSBtZW1iZXJzaGlwLlxuICpcbiAqIFVzYWdlOlxuICpcbiAqICAgLy8gVW5wYWNrIGEgcGFja2VkIGRpY3Rpb25hcnkgc3RyaW5nIGZvciB1c2UuXG4gKiAgIHZhciBwdHJpZSA9IG5ldyBQVHJpZShwYWNrZWRTdHJpbmcpO1xuICpcbiAqICAgLy8gVGVzdCBhIHdvcmQgZm9yIG1lbWJlcnNoaXAgaW4gdGhlIGRpY3Rpb25hcnkuXG4gKiAgIGlmIChwdHJpZS5pc1dvcmQobXlXb3JkKSkge1xuICogICAgIC4uLlxuICogICB9XG4gKlxuICogICAvLyBGb3IgY29tbWFuZCBjb21wbGV0aW9uIC0gZmluZCBmaXJzdCAyMCB3b3JkcyB0aGF0IGJlZ2luIHdpdGggYSBwcmVmaXguXG4gKiAgIHZhciB3b3JkcyA9IHB0cmllLmNvbXBsZXRpb25zKHByZWZpeCwgMjApO1xuICovXG52YXIgUFRyaWUgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFBUcmllKHBhY2tlZCkge1xuICAgICAgICB0aGlzLnN5bXMgPSBbXTtcbiAgICAgICAgdGhpcy5ub2RlcyA9IHBhY2tlZC5zcGxpdChleHBvcnRzLk5PREVfU0VQKTtcbiAgICAgICAgdGhpcy5zeW1zID0gW107XG4gICAgICAgIHRoaXMuc3ltQ291bnQgPSAwO1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgdmFyIG0gPSByZVN5bWJvbC5leGVjKHRoaXMubm9kZXNbdGhpcy5zeW1Db3VudF0pO1xuICAgICAgICAgICAgaWYgKCFtKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYWxwaGFjb2RlXzEuZnJvbUFscGhhQ29kZShtWzFdKSAhPT0gdGhpcy5zeW1Db3VudCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgU3ltYm9sIG5hbWUgLSBmb3VuZCBcIiArIG1bMV0gK1xuICAgICAgICAgICAgICAgICAgICBcIiB3aGVuIGV4cGVjdGluZyBcIiArIGFscGhhY29kZV8xLnRvQWxwaGFDb2RlKHRoaXMuc3ltQ291bnQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc3ltc1t0aGlzLnN5bUNvdW50XSA9IGFscGhhY29kZV8xLmZyb21BbHBoYUNvZGUobVsyXSk7XG4gICAgICAgICAgICB0aGlzLnN5bUNvdW50Kys7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ub2Rlcy5zcGxpY2UoMCwgdGhpcy5zeW1Db3VudCk7XG4gICAgfVxuICAgIC8vIElzIHdvcmQgaW4gdGhlIGRpY3Rpb25hcnkgKGV4YWN0IG1hdGNoKS5cbiAgICBQVHJpZS5wcm90b3R5cGUuaXNXb3JkID0gZnVuY3Rpb24gKHdvcmQpIHtcbiAgICAgICAgaWYgKHdvcmQgPT09ICcnKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMubWF0Y2god29yZCkgPT09IHdvcmQ7XG4gICAgfTtcbiAgICAvLyBSZXR1cm5zIHRoZSBsb25nZXN0IG1hdGNoIHRoYXQgaXMgcHJlZml4IG9mIHdvcmQuXG4gICAgUFRyaWUucHJvdG90eXBlLm1hdGNoID0gZnVuY3Rpb24gKHdvcmQpIHtcbiAgICAgICAgdmFyIG1hdGNoZXMgPSB0aGlzLm1hdGNoZXMod29yZCk7XG4gICAgICAgIGlmIChtYXRjaGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXRjaGVzW21hdGNoZXMubGVuZ3RoIC0gMV07XG4gICAgfTtcbiAgICAvLyBSZXR1cm4gYWxsIGVudHJpZXMgdGhhdCBtYXRjaCBhIHByZWZpeCBvZiB3b3JkIChpbiBvcmRlciBvZiBpbmNyZWFzaW5nXG4gICAgLy8gbGVuZ3RoLlxuICAgIFBUcmllLnByb3RvdHlwZS5tYXRjaGVzID0gZnVuY3Rpb24gKHdvcmQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud29yZHMod29yZCwgd29yZCArIGV4cG9ydHMuTUlOX0xFVFRFUik7XG4gICAgfTtcbiAgICAvLyBSZXR1cm4gYWxsIGVudHJpZXMgdGhhdCBiZWdpbiB3aXRoIGEgcHJlZml4LlxuICAgIFBUcmllLnByb3RvdHlwZS5jb21wbGV0aW9ucyA9IGZ1bmN0aW9uIChwcmVmaXgsIGxpbWl0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLndvcmRzKHByZWZpeCwgYmV5b25kKHByZWZpeCksIGxpbWl0KTtcbiAgICB9O1xuICAgIFBUcmllLnByb3RvdHlwZS53b3JkcyA9IGZ1bmN0aW9uIChmcm9tLCBiZXlvbmQsIGxpbWl0KSB7XG4gICAgICAgIHZhciB3b3JkcyA9IFtdO1xuICAgICAgICBmdW5jdGlvbiBjYXRjaFdvcmRzKHdvcmQsIGN0eCkge1xuICAgICAgICAgICAgaWYgKGxpbWl0ICE9PSB1bmRlZmluZWQgJiYgd29yZHMubGVuZ3RoID49IGxpbWl0KSB7XG4gICAgICAgICAgICAgICAgY3R4LmFib3J0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3b3Jkcy5wdXNoKHdvcmQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW51bWVyYXRlKDAsICcnLCB7IGZyb206IGZyb20sXG4gICAgICAgICAgICBiZXlvbmQ6IGJleW9uZCxcbiAgICAgICAgICAgIGZuOiBjYXRjaFdvcmRzLFxuICAgICAgICAgICAgcHJlZml4ZXM6IChmcm9tICsgZXhwb3J0cy5NSU5fTEVUVEVSKSA9PT0gYmV5b25kXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gd29yZHM7XG4gICAgfTtcbiAgICBQVHJpZS5wcm90b3R5cGUuZW51bWVyYXRlID0gZnVuY3Rpb24gKGlub2RlLCBwcmVmaXgsIGN0eCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgbm9kZSA9IHRoaXMubm9kZXNbaW5vZGVdO1xuICAgICAgICB2YXIgY29udCA9IHRydWU7XG4gICAgICAgIGZ1bmN0aW9uIGVtaXQod29yZCkge1xuICAgICAgICAgICAgaWYgKGN0eC5wcmVmaXhlcykge1xuICAgICAgICAgICAgICAgIGlmICh3b3JkID09PSBjdHguZnJvbS5zbGljZSgwLCB3b3JkLmxlbmd0aCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4LmZuKHdvcmQsIGN0eCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjdHguZnJvbSA8PSB3b3JkICYmIHdvcmQgPCBjdHguYmV5b25kKSB7XG4gICAgICAgICAgICAgICAgY3R4LmZuKHdvcmQsIGN0eCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGVbMF0gPT09IGV4cG9ydHMuVEVSTUlOQUxfUFJFRklYKSB7XG4gICAgICAgICAgICBlbWl0KHByZWZpeCk7XG4gICAgICAgICAgICBpZiAoY3R4LmFib3J0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbm9kZSA9IG5vZGUuc2xpY2UoMSk7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZS5yZXBsYWNlKHJlTm9kZVBhcnQsIGZ1bmN0aW9uICh3LCBzdHIsIHJlZikge1xuICAgICAgICAgICAgdmFyIG1hdGNoID0gcHJlZml4ICsgc3RyO1xuICAgICAgICAgICAgLy8gRG9uZSBvciBubyBwb3NzaWJsZSBmdXR1cmUgbWF0Y2ggZnJvbSBzdHJcbiAgICAgICAgICAgIGlmIChjdHguYWJvcnQgfHxcbiAgICAgICAgICAgICAgICBtYXRjaCA+PSBjdHguYmV5b25kIHx8XG4gICAgICAgICAgICAgICAgbWF0Y2ggPCBjdHguZnJvbS5zbGljZSgwLCBtYXRjaC5sZW5ndGgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGlzVGVybWluYWwgPSByZWYgPT09IGV4cG9ydHMuU1RSSU5HX1NFUCB8fCByZWYgPT09ICcnO1xuICAgICAgICAgICAgaWYgKGlzVGVybWluYWwpIHtcbiAgICAgICAgICAgICAgICBlbWl0KG1hdGNoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5lbnVtZXJhdGUoX3RoaXMuaW5vZGVGcm9tUmVmKHJlZiwgaW5vZGUpLCBtYXRjaCwgY3R4KTtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvLyBSZWZlcmVuY2VzIGFyZSBlaXRoZXIgYWJzb2x1dGUgKHN5bWJvbCkgb3IgcmVsYXRpdmUgKDEgYmFzZWQpLlxuICAgIFBUcmllLnByb3RvdHlwZS5pbm9kZUZyb21SZWYgPSBmdW5jdGlvbiAocmVmLCBpbm9kZUZyb20pIHtcbiAgICAgICAgdmFyIGRub2RlID0gYWxwaGFjb2RlXzEuZnJvbUFscGhhQ29kZShyZWYpO1xuICAgICAgICBpZiAoZG5vZGUgPCB0aGlzLnN5bUNvdW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zeW1zW2Rub2RlXTtcbiAgICAgICAgfVxuICAgICAgICBkbm9kZSAtPSB0aGlzLnN5bUNvdW50O1xuICAgICAgICByZXR1cm4gaW5vZGVGcm9tICsgZG5vZGUgKyAxO1xuICAgIH07XG4gICAgcmV0dXJuIFBUcmllO1xufSgpKTtcbmV4cG9ydHMuUFRyaWUgPSBQVHJpZTtcbi8vIFJldHVybiBhIHN0cmluZyB0aGF0IGlzIHRoZSBzbWFsbGVzdCBzdHJpbmcgZ3JlYXRlciB0aGFuXG4vLyBhbnkgc3RyaW5nIHdoaWNoIGlzIHByZWZpeGVkIHdpdGggcy5cbmZ1bmN0aW9uIGJleW9uZChzKSB7XG4gICAgaWYgKHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLk1BWF9XT1JEO1xuICAgIH1cbiAgICB2YXIgY29kZSA9IHMuY2hhckNvZGVBdChzLmxlbmd0aCAtIDEpO1xuICAgIHJldHVybiBzLnNsaWNlKDAsIC0xKSArIFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZSArIDEpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHRyaWUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5CQVNFID0gMzY7XG4vLyBQbGFjZWhvbGRlclxudmFyIFBUcmllID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQVHJpZSgpIHtcbiAgICB9XG4gICAgcmV0dXJuIFBUcmllO1xufSgpKTtcbmV4cG9ydHMuUFRyaWUgPSBQVHJpZTtcbi8vIDAsIDEsIDIsIC4uLiwgQSwgQiwgQywgLi4uLCAwMCwgMDEsIC4uLiBBQSwgQUIsIEFDLCAuLi4sIEFBQSwgQUFCLCAuLi5cbmZ1bmN0aW9uIHRvQWxwaGFDb2RlKG4pIHtcbiAgICB2YXIgcyA9ICcnO1xuICAgIHZhciBwbGFjZXMgPSAxO1xuICAgIGZvciAodmFyIHJhbmdlID0gZXhwb3J0cy5CQVNFOyBuID49IHJhbmdlOyBuIC09IHJhbmdlLCBwbGFjZXMrKywgcmFuZ2UgKj0gZXhwb3J0cy5CQVNFKSB7IH1cbiAgICB3aGlsZSAocGxhY2VzLS0pIHtcbiAgICAgICAgdmFyIGQgPSBuICUgZXhwb3J0cy5CQVNFO1xuICAgICAgICBzID0gU3RyaW5nLmZyb21DaGFyQ29kZSgoZCA8IDEwID8gNDggOiA1NSkgKyBkKSArIHM7XG4gICAgICAgIG4gPSAobiAtIGQpIC8gZXhwb3J0cy5CQVNFO1xuICAgIH1cbiAgICByZXR1cm4gcztcbn1cbmV4cG9ydHMudG9BbHBoYUNvZGUgPSB0b0FscGhhQ29kZTtcbmZ1bmN0aW9uIGZyb21BbHBoYUNvZGUocykge1xuICAgIHZhciBuID0gMDtcbiAgICBmb3IgKHZhciBwbGFjZXMgPSAxLCByYW5nZSA9IGV4cG9ydHMuQkFTRTsgcGxhY2VzIDwgcy5sZW5ndGg7IG4gKz0gcmFuZ2UsIHBsYWNlcysrLCByYW5nZSAqPSBleHBvcnRzLkJBU0UpIHsgfVxuICAgIGZvciAodmFyIGkgPSBzLmxlbmd0aCAtIDEsIHBvdyA9IDE7IGkgPj0gMDsgaS0tLCBwb3cgKj0gZXhwb3J0cy5CQVNFKSB7XG4gICAgICAgIHZhciBkID0gcy5jaGFyQ29kZUF0KGkpIC0gNDg7XG4gICAgICAgIGlmIChkID4gMTApIHtcbiAgICAgICAgICAgIGQgLT0gNztcbiAgICAgICAgfVxuICAgICAgICBuICs9IGQgKiBwb3c7XG4gICAgfVxuICAgIHJldHVybiBuO1xufVxuZXhwb3J0cy5mcm9tQWxwaGFDb2RlID0gZnJvbUFscGhhQ29kZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFscGhhY29kZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5mdW5jdGlvbiBzb3J0QnlWYWx1ZXMobywgZGlyKSB7XG4gICAgaWYgKGRpciA9PT0gdm9pZCAwKSB7IGRpciA9ICdhc2MnOyB9XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBvKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKFtrZXksIG9ba2V5XV0pO1xuICAgIH1cbiAgICByZXN1bHQuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICByZXR1cm4gY21wRGVmYXVsdChhWzFdLCBiWzFdLCBkaXIpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnRzLnNvcnRCeVZhbHVlcyA9IHNvcnRCeVZhbHVlcztcbmZ1bmN0aW9uIGNtcERlZmF1bHQoYSwgYiwgZGlyKSB7XG4gICAgaWYgKGRpciA9PT0gdm9pZCAwKSB7IGRpciA9ICdhc2MnOyB9XG4gICAgdmFyIHJlc3VsdCA9IDA7XG4gICAgaWYgKGEgPCBiKSB7XG4gICAgICAgIHJlc3VsdCA9IC0xO1xuICAgIH1cbiAgICBlbHNlIGlmIChhID4gYikge1xuICAgICAgICByZXN1bHQgPSAxO1xuICAgIH1cbiAgICByZXR1cm4gZGlyID09PSAnYXNjJyA/IHJlc3VsdCA6IC1yZXN1bHQ7XG59XG4vLyBTb3J0IGVsZW1lbnRzIGFuZCByZW1vdmUgZHVwbGljYXRlcyBmcm9tIGFycmF5IChtb2RpZmllZCBpbiBwbGFjZSkuXG5mdW5jdGlvbiB1bmlxdWUoYSwgY21wKSB7XG4gICAgaWYgKGNtcCA9PT0gdm9pZCAwKSB7IGNtcCA9IGNtcERlZmF1bHQ7IH1cbiAgICBhLnNvcnQoY21wKTtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGNtcChhW2kgLSAxXSwgYVtpXSkgPT09IDApIHtcbiAgICAgICAgICAgIGEuc3BsaWNlKGksIDEpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy51bmlxdWUgPSB1bmlxdWU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlsLmpzLm1hcCIsImltcG9ydCBBSSBmcm9tICcuL2FpJztcbmV4cG9ydCBkZWZhdWx0IEFJO1xuIiwiaW1wb3J0IHtUcmllLCBQVHJpZX0gZnJvbSAnZGF3Zy1sb29rdXAnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBSSB7XG4gIC8qKiByZXR1cm5zICgmIGdlbmVyYXRlcykgYWxwaGFiZXQgYXJyYXkgKi9cbiAgZ2V0IGFscGhhYmV0KCkge1xuICAgIGlmICghdGhpcy5fYSkge1xuICAgICAgdGhpcy5fYSA9IFtdO1xuICAgICAgbGV0IGkgPSAnYScuY2hhckNvZGVBdCgwKSwgaiA9ICd6Jy5jaGFyQ29kZUF0KDApO1xuXG4gICAgICBmb3IgKDtpIDw9IGo7KytpKSB0aGlzLl9hLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShpKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX2E7XG4gIH1cbiAgLyoqIHByb3ZpZGVzIGN1cnJlbnQgbGV2ZWwgcG9pbnRzICovXG4gIGdldCBwb2ludHMoKSB7cmV0dXJuIHRoaXMuX3BvaW50czt9XG4gIC8qKiBwcm92aWRlcyBjdXJyZW50IGxldmVsIGJvYXJkIHNpemUgKi9cbiAgZ2V0IGJvYXJkU2l6ZSgpIHsgcmV0dXJuIHRoaXMuX2JvYXJkU2l6ZTt9XG4gIC8qKiBwcm92aWRlcyBjdXJyZW50IGxldmVsIHVzZWRXb3JkcyAqL1xuICBnZXQgdXNlZFdvcmRzKCkgeyByZXR1cm4gdGhpcy5fdXNlZFdvcmRzO31cbiAgLyoqIHByb3ZpZGVzIGN1cnJlbnQgbGV2ZWwgYm9hcmQgKi9cbiAgZ2V0IGJvYXJkKCkgeyByZXR1cm4gdGhpcy5fYm9hcmQ7fVxuICAvKiogcHJvdmlkZXMgYWRkZWQgZGljdGlvbmFyaWVzICovXG4gIGdldCBkaWN0aW9uYXJpZXMoKSB7IHJldHVybiB0aGlzLl9kaWN0aW9uYXJpZXM7fVxuICAvKipcbiAgICogR2VuZXJhdGVzIGFuIGluc3RhbnNlIG9mIHRoZSBXb3JkcyBBSSBsaWJyYXJ5XG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKi9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fZGljdGlvbmFyaWVzID0ge307XG4gICAgdGhpcy5lbmRCb2FyZCgpO1xuICB9XG4gIC8qKlxuICAgKiBBZGQgbWFpbiBkaWN0aW9uYXJ5IHRvIHRoZSBsaWJyYXJ5LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIHVuaXF1ZSBuYW1lIGZvciB0aGUgZGljdGlvbmFyeS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyAtIGRpY3Rpb25hcnkgc3RyaW5nLlxuICAgKiAqL1xuICBhZGRNYWluRGljdGlvbmFyeShuYW1lLCBzdHJpbmcpIHtcbiAgICB0aGlzLl9hZGREaWN0aW9uYXJ5KG5hbWUsIHN0cmluZyk7XG5cbiAgICB0aGlzLl9tYWluRGljdGlvbmFyeSA9IHRoaXMuX2RpY3Rpb25hcmllc1tuYW1lXTtcbiAgfVxuICAvKipcbiAgICogQWRkIHNlY29uZGFyeSBkaWN0aW9uYXJ5IHRvIHRoZSBsaWJyYXJ5LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIHVuaXF1ZSBuYW1lIGZvciB0aGUgZGljdGlvbmFyeS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyAtIGRpY3Rpb25hcnkgc3RyaW5nLlxuICAgKiAqL1xuICBhZGRTZWNvbmRhcnlEaWN0aW9uYXJ5KG5hbWUsIHN0cmluZykge1xuICAgIHRoaXMuX2FkZERpY3Rpb25hcnkobmFtZSwgc3RyaW5nKTtcbiAgICB0aGlzLl9zZWNvbmRhcnlEaWN0aW9uYXJ5ID0gdGhpcy5fZGljdGlvbmFyaWVzW25hbWVdO1xuICB9XG4gIC8qKlxuICAgKiBTdGFydCBCb2FyZChMZXZlbCkgd2l0aCBpbnRpYWwgY2VudGVyIHdvcmQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBib2FyZFNpemUgLSBCb2FyZCBTaXplLlxuICAgKi9cbiAgc3RhcnRCb2FyZChib2FyZFNpemUgPSB0aGlzLl9kZWZhdWx0Qm9hcmRTaXplKSB7XG4gICAgdGhpcy5fYm9hcmRTaXplID0gYm9hcmRTaXplO1xuICAgIHRoaXMuX2NsZWFuQm9hcmQoKTtcblxuICAgIHRoaXMuX3NldEluaXRpYWxSYW5kb21Xb3JkKCk7XG4gIH1cbiAgLyoqXG4gICAqIEVuZCBCb2FyZChMZXZlbCkuXG4gICAqIC0gY2xlYW4gdGhlIGJvYXJkO1xuICAgKiAtIGNsZWFuIHVzZWQgd29yZHM7XG4gICAqIC0gY2xlYW4gY3VycmVudCBtYWluL3NlY29uZGFyeSBkaWN0aW9uYXJ5XG4gICAqIC0gZXRjLlxuICAgKi9cbiAgZW5kQm9hcmQoKSB7XG4gICAgdGhpcy5fcG9pbnRzID0gMDtcbiAgICB0aGlzLl9ib2FyZFNpemUgPSB0aGlzLl9kZWZhdWx0Qm9hcmRTaXplO1xuICAgIHRoaXMuX3VzZWRXb3JkcyA9IFtdO1xuICAgIHRoaXMuX21haW5EaWN0aW9uYXJ5ID0gbnVsbDtcbiAgICB0aGlzLl9zZWNvbmRhcnlEaWN0aW9uYXJ5ID0gbnVsbDtcblxuICAgIHRoaXMuX2NsZWFuQm9hcmQoKTtcbiAgfVxuICAvKiogY2hlY2sgaWYgd29yZCBhbHJlYWR5IHdhcyB1c2VkIGluIGN1cnJlbnQgbGV2ZWwgKi9cbiAgaXNVc2VkV29yZCh3b3JkKSB7XG4gICAgcmV0dXJuICF3b3JkIHx8ICF0aGlzLl91c2VkV29yZHMgfHwgdGhpcy5fdXNlZFdvcmRzLmZpbmQoXG4gICAgICBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gZWxlbWVudC50b0xvd2VyQ2FzZSgpID09PSB3b3JkLnRvTG93ZXJDYXNlKCk7XG4gICAgICB9XG4gICAgKTtcbiAgfVxuICAvKiogY2hlY2sgaWYgd29yZCBleGlzdHMgaW4gbWFpbiBkaWN0aW9uYXJ5ICovXG4gIGRvZXNXb3JkRXhpc3Qod29yZCkge1xuICAgIGlmICghd29yZCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgbGV0IGZpcnN0TGV0dGVySUQgPSB0aGlzLl9nZXRMZXR0ZXJJRChbLi4ud29yZF1bMF0pO1xuXG4gICAgbGV0IHdvcmRzQXJyYXkgPSB0aGlzLl9nZXRXb3Jkc0FycmF5QnlMZXR0ZXJJRChmaXJzdExldHRlcklEKTtcblxuICAgIHJldHVybiB3b3Jkc0FycmF5LmZpbmQoZnVuY3Rpb24gKGVsZW1lbnQpIHsgcmV0dXJuIGVsZW1lbnQudG9Mb3dlckNhc2UoKSA9PT0gd29yZC50b0xvd2VyQ2FzZSgpOyB9KTtcbiAgfVxuICAvKipcbiAgICpcbiAgICogY2hlY2sgaWYgc2VsZWN0ZWQgY2VsbHMgYXJlIHBvc3NpYmxlIGZvciBhIHdvcmRcbiAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0WCAtIGZpcnN0IGxldHRlciBjb2x1bW5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0WSAtIGZpcnN0IGxldHRlciByb3dcbiAgICogQHBhcmFtIHtib29sZWFufSB2ZXJ0aWNhbCAtIGlzIHdvcmQgdmVydGljYWwgb3IgaG9yaXpvbnRhbFxuICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gYW1vdW50IG9mIHNlbGVjdGVkIGNlbGxzXG4gICAqL1xuICBjaGVja1Bvc3NpYmxlQ2VsbHMoc3RhcnRYLCBzdGFydFksIHZlcnRpY2FsLCBhbW91bnQpIHtcbiAgICBpZiAoc3RhcnRYIDwgMCB8fCBzdGFydFkgPCAwIHx8ICh2ZXJ0aWNhbCA/IHN0YXJ0WSA6IHN0YXJ0WCkgKyBhbW91bnQgPiB0aGlzLl9ib2FyZFNpemUpIHJldHVybiBmYWxzZTtcblxuICAgIGxldCBibG9ja2Vyc0NvdW50ZXIgPSAwO1xuICAgIGxldCBsZXR0ZXJzQ291bnRlciA9IDA7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFtb3VudDsgaSsrKSB7XG4gICAgICBsZXQgY2hlY2tYID0gdmVydGljYWwgPyBzdGFydFggOiBzdGFydFggKyBpO1xuICAgICAgbGV0IGNoZWNrWSA9IHZlcnRpY2FsID8gc3RhcnRZICsgaSA6IHN0YXJ0WTtcbiAgICAgIGxldCBlbGVtZW50ID0gdGhpcy5fYm9hcmRbY2hlY2tZXVtjaGVja1hdO1xuXG4gICAgICBpZiAodGhpcy5faXNBU3RyaW5nKGVsZW1lbnQpKSBsZXR0ZXJzQ291bnRlcisrO1xuICAgICAgZWxzZSBpZiAoZWxlbWVudCA+PSAzIHx8IHZlcnRpY2FsICYmIGVsZW1lbnQgPT09IDEgfHwgIXZlcnRpY2FsICYmIGVsZW1lbnQgPT09IDIpIGJsb2NrZXJzQ291bnRlcisrO1xuICAgIH1cblxuICAgIGlmIChsZXR0ZXJzQ291bnRlciA9PT0gYW1vdW50IHx8IGJsb2NrZXJzQ291bnRlciB8fCAhbGV0dGVyc0NvdW50ZXIgJiYgdGhpcy5fdXNlZFdvcmRzLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIC8qKlxuICAgKiBBZGQgV29yZCB0byB0aGUgYm9hcmQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydFggLSBmaXJzdCBsZXR0ZXIgY29sdW1uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydFkgLSBmaXJzdCBsZXR0ZXIgcm93XG4gICAqIEBwYXJhbSB7c3RyaW5nfSB3b3JkIC0gd29yZFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZlcnRpY2FsIC0gaXMgd29yZCB2ZXJ0aWNhbCBvciBob3Jpem9udGFsXG4gICAqIEByZXR1cm5zIHtib29sZWFufSAtIHdhcyB3b3JkIGFkZGVkIG9yIG5vdC5cbiAgICovXG4gIGFkZFdvcmQoc3RhcnRYLCBzdGFydFksIHdvcmQsIHZlcnRpY2FsID0gZmFsc2UpIHtcbiAgICBpZiAoIXdvcmQgfHwgIXdvcmQubGVuZ3RoIHx8IHdvcmQubGVuZ3RoIDwgMykge1xuICAgICAgY29uc29sZS5sb2coJ3dvcmQgbGVuZ3RoIGlzIGxlc3MgdGhhbiAzIGxldHRlcnMhJyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmNoZWNrUG9zc2libGVDZWxscyhzdGFydFgsIHN0YXJ0WSwgdmVydGljYWwsIHdvcmQubGVuZ3RoKSkge1xuICAgICAgY29uc29sZS5sb2coJ3Bvc3NpYmxlIGNlbGxzIGNoZWNrIGZhaWxlZCEnKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuX2NoZWNrUG9zc2libGVMZXR0ZXJzKHN0YXJ0WCwgc3RhcnRZLCB3b3JkLCB2ZXJ0aWNhbCkpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdwb3NzaWJsZSBsZXR0ZXJzIGNoZWNrIGZhaWxlZCEnKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pc1VzZWRXb3JkKHdvcmQpKSB7XG4gICAgICBjb25zb2xlLmxvZygnd29yZCBpcyBhbHJlYWR5IHVzZWQnKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuZG9lc1dvcmRFeGlzdCh3b3JkKSkge1xuICAgICAgY29uc29sZS5sb2coXCJ3b3JkIGRvZXNuJ3QgZXhpc3QgaW4gZGljdGlvbmFyeVwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCbG9ja2VycyBiYXNlZCBvbiBudW1iZXI6XG4gICAgICogMSAtIGZvciB2ZXJ0aWNhbFxuICAgICAqIDIgLSBmb3IgaG9yaXphbnRhbFxuICAgICAqIDMgLSBmb3IgYWxsXG4gICAgICogKi9cblxuICAgIFsuLi53b3JkXS5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50LCBpbmRleCkge1xuICAgICAgdmFyIGVsZW1lbnRZID0gc3RhcnRZICsgKHZlcnRpY2FsID8gaW5kZXggOiAwKTtcbiAgICAgIHZhciBlbGVtZW50WCA9IHN0YXJ0WCArICh2ZXJ0aWNhbCA/IDAgOiBpbmRleCk7XG5cbiAgICAgIHRoaXMuX2JvYXJkW2VsZW1lbnRZXVtlbGVtZW50WF0gPSBlbGVtZW50LnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMjsgaSsrKSB7XG4gICAgICAgIGxldCB0YXJnZXRYID0gZWxlbWVudFggKyAodmVydGljYWwgPyBpID8gMSA6IC0xIDogMCk7XG4gICAgICAgIGxldCB0YXJnZXRZID0gZWxlbWVudFkgKyAodmVydGljYWwgPyAwIDogaSA/IDEgOiAtMSk7XG5cbiAgICAgICAgaWYgKHRhcmdldFggPCAwIHx8IHRhcmdldFggPj0gdGhpcy5fYm9hcmRTaXplIHx8IHRhcmdldFkgPCAwIHx8IHRhcmdldFkgPj0gdGhpcy5fYm9hcmRTaXplKSBjb250aW51ZTtcbiAgICAgICAgbGV0IHRhcmdldEVsZW1lbnQgPSB0aGlzLl9ib2FyZFt0YXJnZXRZXVt0YXJnZXRYXTtcblxuICAgICAgICBpZiAodmVydGljYWwgJiYgIXRoaXMuX2lzQVZlcnRpY2FsQmxvY2tlcih0YXJnZXRFbGVtZW50KSkgdGhpcy5fYm9hcmRbdGFyZ2V0WV1bdGFyZ2V0WF0gKz0gMTtcbiAgICAgICAgaWYgKCF2ZXJ0aWNhbCAmJiAhdGhpcy5faXNBSG9yaXpvbnRhbEJsb2NrZXIodGFyZ2V0RWxlbWVudCkpIHRoaXMuX2JvYXJkW3RhcmdldFldW3RhcmdldFhdICs9IDI7XG4gICAgICB9XG4gICAgfSwgdGhpcyk7XG5cbiAgICBpZiAodmVydGljYWwpIHtcbiAgICAgIGlmIChzdGFydFkpIHRoaXMuX2JvYXJkW3N0YXJ0WSAtIDFdW3N0YXJ0WF0gPSAzO1xuICAgICAgaWYgKHN0YXJ0WSArIHdvcmQubGVuZ3RoIDwgdGhpcy5fYm9hcmRTaXplKSB0aGlzLl9ib2FyZFtzdGFydFkgKyB3b3JkLmxlbmd0aF1bc3RhcnRYXSA9IDM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChzdGFydFgpIHRoaXMuX2JvYXJkW3N0YXJ0WV1bc3RhcnRYIC0gMV0gPSAzO1xuICAgICAgaWYgKHN0YXJ0WCArIHdvcmQubGVuZ3RoIDwgdGhpcy5fYm9hcmRTaXplKSB0aGlzLl9ib2FyZFtzdGFydFldW3N0YXJ0WCArIHdvcmQubGVuZ3RoXSA9IDM7XG4gICAgfVxuXG4gICAgdGhpcy5fdXNlZFdvcmRzLnB1c2god29yZCk7XG5cbiAgICB0aGlzLl9jaGVja1BvaW50c0ZvcldvcmQod29yZCk7XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICAvKipcbiAgICogUHJvdmlkZSBhIHBvc3NpYmxlIGhpbnQgc3RydWN0dXJlOlxuICAgKiB7XG4gICAqICAgIHg6IDAsXG4gICAqICAgIHk6IDAsXG4gICAqICAgIHdvcmQ6IG51bGwsXG4gICAqICAgIHZlcnRpY2FsOiBmYWxzZVxuICAgKiB9XG4gICAqL1xuICBnZXRIaW50V29yZCgpIHtcbiAgICBsZXQgcmV0dXJuRWxlbWVudCA9IHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiAwLFxuICAgICAgdmVydGljYWw6IGZhbHNlLFxuICAgICAgd29yZDogbnVsbFxuICAgIH07XG4gICAgdmFyIGN1cnJlbnRFbGVtZW50ID0gcmV0dXJuRWxlbWVudDtcblxuICAgIGZvciAobGV0IHkgPSAwOyB5IDwgdGhpcy5fYm9hcmRTaXplOyB5KyspIHtcbiAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgdGhpcy5fYm9hcmRTaXplOyB4KyspIHtcbiAgICAgICAgbGV0IGVsZW1lbnQgPSB0aGlzLl9ib2FyZFt5XVt4XTtcblxuICAgICAgICBpZiAodGhpcy5faXNBU3RyaW5nKGVsZW1lbnQpKSBjdXJyZW50RWxlbWVudCA9IHRoaXMuX2ZpbmRQb3NzaWJsZVdvcmQoeCwgeSk7XG4gICAgICAgIGVsc2UgY29udGludWU7XG5cbiAgICAgICAgaWYgKGN1cnJlbnRFbGVtZW50LndvcmQgJiZcbiAgICAgICAgICAgICghcmV0dXJuRWxlbWVudC53b3JkIHx8XG4gICAgICAgICAgICAgIHJldHVybkVsZW1lbnQud29yZCAmJlxuICAgICAgICAgICAgICBjdXJyZW50RWxlbWVudC53b3JkLmxlbmd0aCA+IHJldHVybkVsZW1lbnQud29yZC5sZW5ndGgpXG4gICAgICAgICkgcmV0dXJuRWxlbWVudCA9IGN1cnJlbnRFbGVtZW50O1xuXG4gICAgICAgIGlmIChyZXR1cm5FbGVtZW50LndvcmQgJiYgcmV0dXJuRWxlbWVudC53b3JkLmxlbmd0aCA9PT0gdGhpcy5fYm9hcmRTaXplKSByZXR1cm4gcmV0dXJuRWxlbWVudDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmV0dXJuRWxlbWVudDtcbiAgfVxuXG4gIC8qKlxuICAgKiBQcml2YXRlIG1ldGhvZHNcbiAgICovXG4gIC8qKiBjaGVjayBpZiBlbGVtZW50IGlzIGEgc3RyaW5nICovXG4gIF9pc0FTdHJpbmcoZWxlbWVudCkgeyByZXR1cm4gdHlwZW9mIGVsZW1lbnQgPT09ICdzdHJpbmcnOyB9XG4gIC8qKiBjaGVjayBpZiBlbGVtZW50IGlzIGEgbnVtYmVyICovXG4gIF9pc0FOdW1iZXIoZWxlbWVudCkgeyByZXR1cm4gIXRoaXMuX2lzQVN0cmluZyhlbGVtZW50KTsgfVxuICAvKiogY2hlY2sgaWYgYSBjZWxsIGlzIGEgdmVydGljYWwgYmxvY2tlciAqL1xuICBfaXNBVmVydGljYWxCbG9ja2VyKGVsZW1lbnQpIHtyZXR1cm4gIXRoaXMuX2lzQU51bWJlcihlbGVtZW50KSB8fCBlbGVtZW50ID09PSAxIHx8IGVsZW1lbnQgPj0gMzt9XG4gIC8qKiBjaGVjayBpZiBhIGNlbGwgaXMgYSBob3Jpem9udGFsIGJsb2NrZXIgKi9cbiAgX2lzQUhvcml6b250YWxCbG9ja2VyKGVsZW1lbnQpIHtyZXR1cm4gIXRoaXMuX2lzQU51bWJlcihlbGVtZW50KSB8fCBlbGVtZW50ID09PSAyIHx8IGVsZW1lbnQgPj0gMzt9XG4gIC8qKlxuICAgKiBjaGVjayBpZiB3b3JkIGxldHRlcnMgaW50ZXJzZWN0cyBleGlzdGluZyBsZXR0ZXJzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydFggLSBmaXJzdCBsZXR0ZXIgY29sdW1uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydFkgLSBmaXJzdCBsZXR0ZXIgcm93XG4gICAqIEBwYXJhbSB7c3RyaW5nfSB3b3JkICAtIHdvcmRcbiAgICogQHBhcmFtIHtib29sZWFufSB2ZXJ0aWNhbCAtIGlzIHdvcmQgdmVydGljYWwgb3IgaG9yaXpvbnRhbFxuICAgKi9cbiAgX2NoZWNrUG9zc2libGVMZXR0ZXJzKHN0YXJ0WCwgc3RhcnRZLCB3b3JkLCB2ZXJ0aWNhbCA9IGZhbHNlKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3b3JkLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgY2hlY2tYID0gdmVydGljYWwgPyBzdGFydFggOiBzdGFydFggKyBpO1xuICAgICAgbGV0IGNoZWNrWSA9IHZlcnRpY2FsID8gc3RhcnRZICsgaSA6IHN0YXJ0WTtcbiAgICAgIGxldCBlbGVtZW50ID0gdGhpcy5fYm9hcmRbY2hlY2tZXVtjaGVja1hdO1xuXG4gICAgICBpZiAodGhpcy5faXNBU3RyaW5nKGVsZW1lbnQpICYmIGVsZW1lbnQgIT09IFsuLi53b3JkXVtpXSkgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIC8qKiBkZWZhdWx0IGJvYXJkIHNpemUgKi9cbiAgZ2V0IF9kZWZhdWx0Qm9hcmRTaXplKCkgeyByZXR1cm4gMTE7fVxuICAvKipcbiAgICogYWRkIGRpY3Rpb25hcnlcbiAgICogT25jZSBkaWNpdGlvbmFyeSBpcyBwcmVsb2FkZWQgbGlicmFyeSB3b24ndCBsb2FkIGRpY3Rpb25hcnkgYWdhaW4gYnV0IHVzZSBleGlzdGluZyBvbmUgYnkgbmFtZS5cbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gdW5pcXVlIG5hbWUgZm9yIHRoZSBkaWN0aW9uYXJ5LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIC0gZGljdGlvbmFyeSBzdHJpbmcuXG4gICAqICovXG4gIF9hZGREaWN0aW9uYXJ5KG5hbWUsIHN0cmluZykge1xuICAgIGlmIChuYW1lIGluIHRoaXMuX2RpY3Rpb25hcmllcykgcmV0dXJuO1xuICAgIGxldCBkaWN0ID0gbmV3IFRyaWUoc3RyaW5nKTtcblxuICAgIHRoaXMuX2RpY3Rpb25hcmllc1tuYW1lXSA9IG5ldyBQVHJpZShkaWN0LnBhY2soKSk7XG4gIH1cbiAgLyoqIGNsZWFuIGJvYXJkICovXG4gIF9jbGVhbkJvYXJkKCkge1xuICAgIHRoaXMuX2JvYXJkID0gW107XG5cbiAgICBmb3IgKGxldCB5ID0gMDsgeSA8IHRoaXMuX2JvYXJkU2l6ZTsgeSsrKSB7XG4gICAgICBsZXQgX2FycmF5ID0gW107XG5cbiAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgdGhpcy5fYm9hcmRTaXplOyB4KyspIHtcbiAgICAgICAgX2FycmF5LnB1c2goMCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2JvYXJkLnB1c2goX2FycmF5KTtcbiAgICB9XG4gIH1cbiAgLyoqIGFkZCBpbml0aWFsIGhvcml6b250YWwgY2VudGVyZWQgd29yZCAqL1xuICBfc2V0SW5pdGlhbFJhbmRvbVdvcmQoKSB7XG4gICAgbGV0IHdvcmQgPSBudWxsO1xuICAgIGxldCByYW5kb21MZXR0ZXJJRCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICh0aGlzLmFscGhhYmV0Lmxlbmd0aCAtIDIpKTtcblxuICAgIHdoaWxlICghd29yZCkge1xuICAgICAgbGV0IHJhbmRvbVdvcmRzID0gdGhpcy5fZ2V0V29yZHNBcnJheUJ5TGV0dGVySUQocmFuZG9tTGV0dGVySUQsIDEpO1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJhbmRvbVdvcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCByYW5kb21Xb3JkID0gcmFuZG9tV29yZHNbaV07XG5cbiAgICAgICAgaWYgKHRoaXMuaXNVc2VkV29yZChyYW5kb21Xb3JkKSB8fFxuICAgICAgICAgICAgcmFuZG9tV29yZC5sZW5ndGggPCBNYXRoLmZsb29yKHRoaXMuX2JvYXJkU2l6ZSAqIDAuNSkgfHxcbiAgICAgICAgICAgIHJhbmRvbVdvcmQubGVuZ3RoID49IE1hdGguZmxvb3IodGhpcy5fYm9hcmRTaXplKSkgY29udGludWU7XG4gICAgICAgIGVsc2UgeyB3b3JkID0gcmFuZG9tV29yZDsgYnJlYWs7fVxuICAgICAgfVxuXG4gICAgICByYW5kb21MZXR0ZXJJRCA9IHJhbmRvbUxldHRlcklEIDwgdGhpcy5hbHBoYWJldC5sZW5ndGggLSAxID8gcmFuZG9tTGV0dGVySUQgKyAxIDogMDtcbiAgICB9XG5cbiAgICBsZXQgeCA9IE1hdGguZmxvb3IoKHRoaXMuX2JvYXJkU2l6ZSAtIHdvcmQubGVuZ3RoKSAqIDAuNSk7XG4gICAgbGV0IHkgPSBNYXRoLmZsb29yKHRoaXMuX2JvYXJkU2l6ZSAqIDAuNCArIE1hdGgucmFuZG9tKCkgKiAodGhpcy5fYm9hcmRTaXplICogMC4yKSk7XG5cbiAgICB0aGlzLmFkZFdvcmQoeCwgeSwgd29yZCk7XG4gIH1cbiAgLyoqXG4gICAqIHByb3ZpZGVzIGxldHRlciBpZCBpbiB0aGUgYWxwaGFiZXRcbiAgICogQHBhcmFtIHtjaGFyfSBsZXR0ZXIgLSBMZXR0ZXIuXG4gICAqICovXG4gIF9nZXRMZXR0ZXJJRChsZXR0ZXIpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYWxwaGFiZXQubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLmFscGhhYmV0W2ldLnRvTG93ZXJDYXNlKCkgPT09IGxldHRlci50b0xvd2VyQ2FzZSgpKSByZXR1cm4gaTtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgLyoqXG4gICAqIHByb3ZpZGVzIHdvcmRzIGFycmF5IGJhc2VkIG9uIGxldHRlciBpZCBhbmQgZGljdGlvbmFyeSB0eXBlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBsZXR0ZXJJRCAtIExldHRlciBJRCBpbiB0aGUgYWxwaGFiZXRcbiAgICogQHBhcmFtIHtudW1iZXJ9IGRpY3Rpb25hcnlUeXBlOlxuICAgKiAwIC0gbWFpbiBkaWN0aW9uYXJ5IChkZWZhdWx0KVxuICAgKiAxIC0gc2Vjb25kYXJ5IGRpY3Rpb25hcnlcbiAgICovXG4gIF9nZXRXb3Jkc0FycmF5QnlMZXR0ZXJJRChsZXR0ZXJJRCwgZGljdGlvbmFyeVR5cGUgPSAwKSB7XG4gICAgbGV0IGN1cnJlbnRMZXR0ZXIgPSB0aGlzLmFscGhhYmV0W2xldHRlcklEXTtcbiAgICBsZXQgbmV4dExldHRlciA9IHRoaXMuYWxwaGFiZXRbbGV0dGVySUQgPCB0aGlzLmFscGhhYmV0Lmxlbmd0aCAtIDEgPyBsZXR0ZXJJRCArIDEgOiAwXTtcbiAgICBsZXQgd29yZHMgPSBbXTtcbiAgICBsZXQgZGljdGlvbmFyeSA9IGRpY3Rpb25hcnlUeXBlID8gdGhpcy5fc2Vjb25kYXJ5RGljdGlvbmFyeSA6IHRoaXMuX21haW5EaWN0aW9uYXJ5O1xuXG4gICAgaWYgKGRpY3Rpb25hcnkpIHdvcmRzID0gZGljdGlvbmFyeS53b3JkcyhjdXJyZW50TGV0dGVyLCBuZXh0TGV0dGVyKTtcblxuICAgIGRpY3Rpb25hcnkgPSBudWxsO1xuXG4gICAgcmV0dXJuIHdvcmRzO1xuICB9XG4gIC8qKlxuICAgKiBGaW5kIHBvc3NpYmxlIHdvcmQgZm9yIGEgY2VsbFxuICAgKiBAcGFyYW0ge251bWJlcn0geCAtIGNvbHVtbiB2YWx1ZSBmb3IgYSBjZWxsXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gcm93IHZhbHVlIGZvciBhIGNlbGxcbiAgICogQHJldHVybnMgc3RydWN0dXJlOlxuICAgKiB7XG4gICAqICAgIHg6IDAsXG4gICAqICAgIHk6IDAsXG4gICAqICAgIHdvcmQ6IG51bGwsXG4gICAqICAgIHZlcnRpY2FsOiBmYWxzZVxuICAgKiB9XG4gICAqL1xuICBfZmluZFBvc3NpYmxlV29yZCh4LCB5KSB7XG4gICAgbGV0IHJlZ0V4cE9iamVjdCA9IG51bGw7XG4gICAgbGV0IHJldHVybldvcmQgPSBudWxsO1xuICAgIGxldCByZXR1cm5YID0gMDtcbiAgICBsZXQgcmV0dXJuWSA9IDA7XG4gICAgbGV0IHZlcnRpY2FsID0gZmFsc2U7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDI7IGkrKykge1xuICAgICAgdmVydGljYWwgPSAhIWk7XG5cbiAgICAgIHJlZ0V4cE9iamVjdCA9IHRoaXMuX2dlbmVyYXRlUmVnRXhwKHgsIHksIHZlcnRpY2FsKTtcbiAgICAgIGlmICghcmVnRXhwT2JqZWN0KSBjb250aW51ZTtcblxuICAgICAgcmV0dXJuV29yZCA9IHRoaXMuX2ZpbmRXb3JkQnlSZWdFeHAocmVnRXhwT2JqZWN0LnJlZ0V4cCk7XG4gICAgICBpZiAoIXJldHVybldvcmQpIGNvbnRpbnVlO1xuXG4gICAgICBmb3IgKGxldCBsID0gMDsgbCA8PSByZWdFeHBPYmplY3QuYmVmb3JlICsgMTsgbCsrKSB7XG4gICAgICAgIGlmIChsIDwgcmV0dXJuV29yZC5sZW5ndGggJiZcbiAgICAgICAgICAgIHJldHVybldvcmRbbF0udG9TdHJpbmcoKSA9PT0gdGhpcy5fYm9hcmRbeV1beF0udG9TdHJpbmcoKSAmJlxuICAgICAgICAgICAgKHZlcnRpY2FsID8geSA6IHgpIC0gbCA+PSAwICYmICh2ZXJ0aWNhbCA/IHkgOiB4KSAtIGwgKyByZXR1cm5Xb3JkLmxlbmd0aCA8PSB0aGlzLl9ib2FyZFNpemUpIHtcbiAgICAgICAgICBsZXQgY2hlY2tYID0gdmVydGljYWwgPyB4IDogKHggKyByZWdFeHBPYmplY3QuYmV0d2VlbiArIChyZWdFeHBPYmplY3QuYmV0d2VlbiA/IDEgOiAwKSk7XG4gICAgICAgICAgbGV0IGNoZWNrWSA9IHZlcnRpY2FsID8gKHkgKyByZWdFeHBPYmplY3QuYmV0d2VlbiArIChyZWdFeHBPYmplY3QuYmV0d2VlbiA/IDEgOiAwKSkgOiB5O1xuXG4gICAgICAgICAgaWYgKHRoaXMuX2JvYXJkW2NoZWNrWV1bY2hlY2tYXSA9PT0gcmV0dXJuV29yZFtsICsgcmVnRXhwT2JqZWN0LmJldHdlZW4gKyAocmVnRXhwT2JqZWN0LmJldHdlZW4gPyAxIDogMCldKSB7XG4gICAgICAgICAgICByZXR1cm5YID0gdmVydGljYWwgPyB4IDogeCAtIGw7XG4gICAgICAgICAgICByZXR1cm5ZID0gdmVydGljYWwgPyB5IC0gbCA6IHk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHJldHVybldvcmQpIGJyZWFrO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICB4OiByZXR1cm5YLFxuICAgICAgeTogcmV0dXJuWSxcbiAgICAgIHdvcmQ6IHJldHVybldvcmQsXG4gICAgICB2ZXJ0aWNhbDogdmVydGljYWxcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBQcm92ZGVzIHBvc3NpYmxlIHJlZ3VsYXIgZXhwcmVzc2lvbiBmb3IgY2VsbFxuICAgKiBAcGFyYW0ge251bWJlcn0geCAtIHN0YXJ0IGxldHRlciBjb2x1bW5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBzdGFydCBsZXR0ZXIgcm93XG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmVydGljYWwgLSBpcyB3b3JkIHZlcnRpY2FsIG9yIGhvcml6b250YWxcbiAgICogQHJldHVybnMgc3RydWN0dXJlOlxuICAgKiB7XG4gICAqIGJlZm9yZSAgICAge251bWJlcn0gLT4gYW1vdW50IG9mIGVtcHR5IGNlbGxzIGJlZm9yZSBmaXJzdCBsZXR0ZXJcbiAgICogYmV0d2VlbiAgICB7bnVtYmVyfSAtPiBhbW91bnQgb2YgZW1wdHkgY2VsbHMgYmV0d2VlbiBsZXR0ZXJzXG4gICAqIHRvdGFsRnJlZSAge251bWJlcn0gLT4gdG90YWwgZnJlZSBjZWxsc1xuICAgKiByZWdFeHAgICAgIHtzdHJpbmd9IC0+IHJlZ3VsYXIgZXhwcmVzc2lvblxuICAgKiB9XG4gICAqIE9SXG4gICAqIE5VTEwgLT4gaW4gY2FzZSByZWcgZXhwIGlzIGltcG9zc2libGVcbiAgICovXG4gIF9nZW5lcmF0ZVJlZ0V4cCh4LCB5LCB2ZXJ0aWNhbCA9IGZhbHNlKSB7XG4gICAgdmFyIHJlZ0V4cCA9ICcnO1xuICAgIHZhciBpRGlmZiA9IE1hdGgubWF4KHRoaXMuX2JvYXJkU2l6ZSAtICh2ZXJ0aWNhbCA/IHkgOiB4KSwgdmVydGljYWwgPyB5IDogeCk7XG4gICAgdmFyIHdvcmRBcnJheSA9IG5ldyBBcnJheSh0aGlzLl9ib2FyZFNpemUpO1xuXG4gICAgd29yZEFycmF5W3ZlcnRpY2FsID8geSA6IHhdID0gdGhpcy5fYm9hcmRbeV1beF07XG4gICAgbGV0IGlzVG9wQmxvY2tlZCA9IGZhbHNlO1xuICAgIGxldCBpc0JvdHRvbUJsb2NrZWQgPSBmYWxzZTtcbiAgICBsZXQgbGV0dGVyc0NvdW50ZXIgPSAwO1xuXG4gICAgbGV0IGNoZWNrSWZCbG9ja2VyID0gKGVsZW1lbnQpID0+e1xuICAgICAgbGV0IGlzVmVydGljYWxCbG9ja2VyID0gdmVydGljYWwgJiYgdGhpcy5faXNBVmVydGljYWxCbG9ja2VyKGVsZW1lbnQpO1xuICAgICAgbGV0IGlzSG9yaXpvbnRhbEJsb2NrZXIgPSAhdmVydGljYWwgJiYgdGhpcy5faXNBSG9yaXpvbnRhbEJsb2NrZXIoZWxlbWVudCk7XG5cbiAgICAgIHJldHVybiAoaXNWZXJ0aWNhbEJsb2NrZXIgfHwgaXNIb3Jpem9udGFsQmxvY2tlcik7XG4gICAgfTtcblxuICAgIGxldCBjaGVja1RvcEVsZW1lbnQgPSAoeCwgeSwgaSwgbGV0dGVyc0NvdW50ZXIpPT57XG4gICAgICBpZiAoKHZlcnRpY2FsID8gKHkgLSBpKSA6ICh4IC0gaSkpID4gMCkge1xuICAgICAgICBpZiAobGV0dGVyc0NvdW50ZXIgJiYgdGhpcy5faXNBU3RyaW5nKHRoaXMuX2JvYXJkW3ZlcnRpY2FsID8gKHkgLSBpIC0gMSkgOiB5XVt2ZXJ0aWNhbCA/IHggOiAoeCAtIGkgLSAxKV0pKSB7XG4gICAgICAgICAgd29yZEFycmF5W3ZlcnRpY2FsID8gKHkgLSBpIC0gMSkgOiAoeCAtIGkgLSAxKV0gPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgaURpZmY7IGkrKykge1xuICAgICAgbGV0IGVsZW1lbnQgPSBudWxsO1xuXG4gICAgICAvLyBjaGVjayBtb3ZlbWVudCB0b3AvbGVmdFxuICAgICAgaWYgKCh2ZXJ0aWNhbCA/IHkgOiB4KSAtIGkgPj0gMCAmJiAhaXNUb3BCbG9ja2VkKSB7XG4gICAgICAgIGVsZW1lbnQgPSB0aGlzLl9ib2FyZFt2ZXJ0aWNhbCA/ICh5IC0gaSkgOiB5XVt2ZXJ0aWNhbCA/IHggOiAoeCAtIGkpXTtcblxuICAgICAgICBpZiAoY2hlY2tJZkJsb2NrZXIoZWxlbWVudCkpIHtcbiAgICAgICAgICBpZiAodGhpcy5faXNBU3RyaW5nKGVsZW1lbnQpICYmICFsZXR0ZXJzQ291bnRlcikge1xuICAgICAgICAgICAgd29yZEFycmF5W3ZlcnRpY2FsID8gKHkgLSBpKSA6ICh4IC0gaSldID0gZWxlbWVudDtcbiAgICAgICAgICAgIGxldHRlcnNDb3VudGVyKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlzVG9wQmxvY2tlZCA9IHRydWU7XG4gICAgICAgICAgICBpZiAoaSA+IDEgJiYgdGhpcy5faXNBU3RyaW5nKGVsZW1lbnQpKSB3b3JkQXJyYXlbIHZlcnRpY2FsID8gKHkgLSBpICsgMSkgOiAoeCAtIGkgKyAxKV0gPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB3b3JkQXJyYXlbdmVydGljYWwgPyAoeSAtIGkpIDogKHggLSBpKV0gPSAnW2Etel0nO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIGNoZWNrIG1vdmVtZW50IGJvdHRvbS9yaWdodFxuICAgICAgaWYgKCh2ZXJ0aWNhbCA/IHkgOiB4KSArIGkgPCB0aGlzLl9ib2FyZFNpemUgJiYgIWlzQm90dG9tQmxvY2tlZCkge1xuICAgICAgICBlbGVtZW50ID0gdGhpcy5fYm9hcmRbdmVydGljYWwgPyAoeSArIGkpIDogeV1bdmVydGljYWwgPyB4IDogKHggKyBpKV07XG5cbiAgICAgICAgaWYgKGNoZWNrSWZCbG9ja2VyKGVsZW1lbnQpKSB7XG4gICAgICAgICAgaWYgKHRoaXMuX2lzQVN0cmluZyhlbGVtZW50KSAmJiAhbGV0dGVyc0NvdW50ZXIpIHtcbiAgICAgICAgICAgIHdvcmRBcnJheVt2ZXJ0aWNhbCA/ICh5ICsgaSkgOiAoeCArIGkpXSA9IGVsZW1lbnQ7XG4gICAgICAgICAgICBsZXR0ZXJzQ291bnRlcisrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpc0JvdHRvbUJsb2NrZWQgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKGkgPiAxICYmIHRoaXMuX2lzQVN0cmluZyhlbGVtZW50KSkgd29yZEFycmF5W3ZlcnRpY2FsID8gKHkgKyBpIC0gMSkgOiAoeCArIGkgLSAxKV0gPSBudWxsO1xuICAgICAgICAgICAgLy8gY2hlY2sgdGhlIGFib3ZlIG9uIHRvcCBlbGVtZW50IGlzbid0IGJsb2NrZXJcbiAgICAgICAgICAgIGNoZWNrVG9wRWxlbWVudCh4LCB5LCBpLCBsZXR0ZXJzQ291bnRlcik7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHdvcmRBcnJheVt2ZXJ0aWNhbCA/ICh5ICsgaSkgOiAoeCArIGkpXSA9ICdbYS16XSc7XG4gICAgICAgICAgLy8gY2hlY2sgdGhlIGFib3ZlIG9uIHRvcCBlbGVtZW50IGlzbid0IGJsb2NrZXJcbiAgICAgICAgICBjaGVja1RvcEVsZW1lbnQoeCwgeSwgaSwgbGV0dGVyc0NvdW50ZXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gZ2VlbmVyYXRlIHJlZ3VsYXIgZXhwcmVzc2lvblxuICAgIHJlZ0V4cCArPSAnXignO1xuICAgIGxldCBiZWZvcmVMZXR0ZXJDb3VudGVyID0gMDtcbiAgICBsZXQgYW55Q291bnRlciA9IDA7XG4gICAgbGV0IHRvdGFsRnJlZUNvdW50ZXIgPSAwO1xuICAgIGxldCBiZXR3ZWVuTGV0dGVyc0NvdW50ZXIgPSAwO1xuXG4gICAgbGV0dGVyc0NvdW50ZXIgPSAwO1xuICAgIHdvcmRBcnJheS5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50LCBpbmRleCkge1xuICAgICAgaWYgKGVsZW1lbnQgJiYgZWxlbWVudCA9PT0gJ1thLXpdJykgYW55Q291bnRlcisrO1xuICAgICAgZWxzZSBpZiAoZWxlbWVudCkge1xuXG4gICAgICAgIGlmICghbGV0dGVyc0NvdW50ZXIpIGJlZm9yZUxldHRlckNvdW50ZXIgPSBhbnlDb3VudGVyO1xuXG4gICAgICAgIGxldHRlcnNDb3VudGVyKys7XG5cbiAgICAgICAgaWYgKGxldHRlcnNDb3VudGVyID09PSAxKSByZWdFeHAgKz0gJ1thLXpdezAsJyArIGFueUNvdW50ZXIgKyAnfScgKyBlbGVtZW50LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGVsc2UgaWYgKGxldHRlcnNDb3VudGVyID09PSAyKSB7XG4gICAgICAgICAgYmV0d2VlbkxldHRlcnNDb3VudGVyID0gYW55Q291bnRlcjtcbiAgICAgICAgICByZWdFeHAgKz0gJ1thLXpdeycgKyBhbnlDb3VudGVyICsgJ30nICsgZWxlbWVudC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRvdGFsRnJlZUNvdW50ZXIgKz0gYW55Q291bnRlcjtcbiAgICAgICAgYW55Q291bnRlciA9IDA7XG4gICAgICB9XG4gICAgfSwgdGhpcyk7XG5cbiAgICB0b3RhbEZyZWVDb3VudGVyICs9IGFueUNvdW50ZXI7XG4gICAgaWYgKGFueUNvdW50ZXIpIHJlZ0V4cCArPSAnW2Etel17MCwnICsgYW55Q291bnRlciArICd9JztcblxuICAgIHJlZ0V4cCArPSAnKSQnO1xuXG4gICAgaWYgKCF0b3RhbEZyZWVDb3VudGVyKSByZXR1cm4gbnVsbDtcblxuICAgIHJldHVybiB7XG4gICAgICBiZWZvcmU6IGJlZm9yZUxldHRlckNvdW50ZXIsXG4gICAgICBiZXR3ZWVuOiBiZXR3ZWVuTGV0dGVyc0NvdW50ZXIsXG4gICAgICB0b3RhbEZyZWU6IHRvdGFsRnJlZUNvdW50ZXIsXG4gICAgICByZWdFeHA6IHJlZ0V4cFxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFByb3ZpZGVzIGEgcG9zc2libGUgd29yZCBieSByZWcgZXhwXG4gICAqIEBwYXJhbSB7c3RyaW5nfSByZWdFeHAgLSByZWd1bGFyIGV4cHJlc3Npb25cbiAgICovXG4gIF9maW5kV29yZEJ5UmVnRXhwKHJlZ0V4cCkge1xuICAgIGxldCB3b3JkID0gbnVsbDtcbiAgICBsZXQgc3RhcnRMZXR0ZXJJRCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICh0aGlzLmFscGhhYmV0Lmxlbmd0aCAtIDIpKTtcbiAgICBsZXQgcmFuZG9tTGV0dGVySUQgPSBzdGFydExldHRlcklEO1xuICAgIGxldCByZWd1bGFyRXhwcmVzc2lvbiA9IG5ldyBSZWdFeHAocmVnRXhwKTtcblxuICAgIC8vIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB3aGlsZSAoIXdvcmQpIHtcbiAgICAgIGxldCByYW5kb21Xb3JkcyA9IHRoaXMuX2dldFdvcmRzQXJyYXlCeUxldHRlcklEKHJhbmRvbUxldHRlcklELCAxKTtcbiAgICAgIC8qKlxuICAgICAgICogRmFzdGVyIHdheSBidXQgb25seSBzbWFsbCB3b3JkcyBjb21lIGZpcnN0LlxuICAgICAgICovXG4gICAgICAvLyB3b3JkID0gcmFuZG9tV29yZHMuZmluZCgoZWwpPT57XG4gICAgICAvLyAgIHJldHVybiBlbC5tYXRjaChyZWd1bGFyRXhwcmVzc2lvbikgJiZcbiAgICAgIC8vICAgICAgICAgIGVsLmxlbmd0aCA+PSAzICYmXG4gICAgICAvLyAgICAgICAgICAhX3RoaXMuaXNVc2VkV29yZChlbCk7XG4gICAgICAvLyB9KSB8fCBudWxsO1xuXG4gICAgICB3b3JkID0gbnVsbDtcbiAgICAgIHJhbmRvbVdvcmRzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKGVsZW1lbnQubWF0Y2gocmVndWxhckV4cHJlc3Npb24pICYmIGVsZW1lbnQubGVuZ3RoID49IDMgJiZcbiAgICAgICAgICAgICF0aGlzLmlzVXNlZFdvcmQoZWxlbWVudCkgJiYgKCF3b3JkIHx8IGVsZW1lbnQubGVuZ3RoID4gd29yZC5sZW5ndGgpKSB7XG4gICAgICAgICAgd29yZCA9IGVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgIH0sIHRoaXMpO1xuXG4gICAgICBpZiAod29yZCkgYnJlYWs7XG5cbiAgICAgIHJhbmRvbUxldHRlcklEID0gcmFuZG9tTGV0dGVySUQgPCB0aGlzLmFscGhhYmV0Lmxlbmd0aCAtIDEgPyByYW5kb21MZXR0ZXJJRCArIDEgOiAwO1xuICAgICAgaWYgKHJhbmRvbUxldHRlcklEID09PSBzdGFydExldHRlcklEKSBicmVhaztcbiAgICB9XG5cbiAgICByZXR1cm4gd29yZDtcbiAgfVxuICAvKiogY2hlY2tzIGlmIHBvc3NpYmxlIHBvaW50cyBmb3IgYSB3b3JkIGFuZCBhZGRzIGl0IGlmIG5lZWRlZCAqL1xuICBfY2hlY2tQb2ludHNGb3JXb3JkKHdvcmQpIHtcbiAgICBpZiAoIXdvcmQgfHwgdGhpcy5fdXNlZFdvcmRzLmxlbmd0aCA8IDMpIHJldHVybjtcbiAgICB3b3JkID0gd29yZC50b0xvd2VyQ2FzZSgpO1xuXG4gICAgbGV0IGZpcnN0TGV0dGVySUQgPSB0aGlzLl9nZXRMZXR0ZXJJRChbLi4ud29yZF1bMF0pO1xuXG4gICAgbGV0IHdvcmRzQXJyYXkgPSB0aGlzLl9nZXRXb3Jkc0FycmF5QnlMZXR0ZXJJRChmaXJzdExldHRlcklELCAxKTtcblxuICAgIGlmICh3b3Jkc0FycmF5LmZpbmQoKGVsZW1lbnQpPT57cmV0dXJuIGVsZW1lbnQgPT09IHdvcmQ7fSkpIHtcbiAgICAgIHRoaXMuX3BvaW50cyArPSB3b3JkLmxlbmd0aDtcbiAgICB9XG4gIH1cbn1cbiIsIlwidXNlIHN0cmljdFwiO1xuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbnZhciB0cmllXzEgPSByZXF1aXJlKFwiLi90cmllXCIpO1xuZXhwb3J0cy5UcmllID0gdHJpZV8xLlRyaWU7XG52YXIgcHRyaWVfMSA9IHJlcXVpcmUoXCIuL3B0cmllXCIpO1xuZXhwb3J0cy5QVHJpZSA9IHB0cmllXzEuUFRyaWU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG4vKlxuICBBIEphdmFTY3JpcHQgaW1wbGVtZW50YXRpb24gb2YgYSBUcmllIHNlYXJjaCBkYXRhc3RydWN0dXJlLlxuXG4gIFVzYWdlOlxuXG4gIHRyaWUgPSBuZXcgVHJpZShkaWN0aW9uYXJ5LXN0cmluZyk7XG4gIGJvb2wgPSB0cmllLmlzV29yZCh3b3JkKTtcblxuICBUbyB1c2UgYSBwYWNrZWQgKGNvbXByZXNzZWQpIHZlcnNpb24gb2YgdGhlIHRyaWUgc3RvcmVkIGFzIGEgc3RyaW5nOlxuXG4gIGNvbXByZXNzZWQgPSB0cmllLnBhY2soKTtcbiAgcHRyaWUgPSBuZXcgUGFja2VkVHJpZShjb21wcmVzc2VkKTtcbiAgYm9vbCA9IHB0cmllLmlzV29yZCh3b3JkKVxuXG4qL1xudmFyIHB0cmllID0gcmVxdWlyZShcIi4vcHRyaWVcIik7XG52YXIgYWxwaGFjb2RlXzEgPSByZXF1aXJlKFwiLi9hbHBoYWNvZGVcIik7XG52YXIgaGlzdG9ncmFtXzEgPSByZXF1aXJlKFwiLi9oaXN0b2dyYW1cIik7XG52YXIgdXRpbF8xID0gcmVxdWlyZShcIi4vdXRpbFwiKTtcbnZhciBub2RlXzEgPSByZXF1aXJlKFwiLi9ub2RlXCIpO1xudmFyIERFQlVHID0gZmFsc2U7XG4vLyBDcmVhdGUgYSBUcmllIGRhdGEgc3RydWN0dXJlIGZvciBzZWFyY2hpbmcgZm9yIG1lbWJlcnNoaXAgb2Ygc3RyaW5nc1xuLy8gaW4gYSBkaWN0aW9uYXJ5IGluIGEgdmVyeSBzcGFjZSBlZmZpY2llbnQgd2F5LlxudmFyIFRyaWUgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRyaWUod29yZHMpIHtcbiAgICAgICAgdGhpcy5yb290ID0gbmV3IG5vZGVfMS5Ob2RlKCk7XG4gICAgICAgIHRoaXMubGFzdFdvcmQgPSAnJztcbiAgICAgICAgdGhpcy5zdWZmaXhlcyA9IHt9O1xuICAgICAgICB0aGlzLmNOZXh0ID0gMTtcbiAgICAgICAgdGhpcy53b3JkQ291bnQgPSAwO1xuICAgICAgICB0aGlzLnZDdXIgPSAwO1xuICAgICAgICB0aGlzLmluc2VydFdvcmRzKHdvcmRzKTtcbiAgICB9XG4gICAgLy8gSW5zZXJ0IHdvcmRzIGZyb20gb25lIGJpZyBzdHJpbmcsIG9yIGZyb20gYW4gYXJyYXkuXG4gICAgVHJpZS5wcm90b3R5cGUuaW5zZXJ0V29yZHMgPSBmdW5jdGlvbiAod29yZHMpIHtcbiAgICAgICAgdmFyIGk7XG4gICAgICAgIGlmICh3b3JkcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB3b3JkcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHdvcmRzID0gd29yZHMuc3BsaXQoL1teYS16QS1aXSsvKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgd29yZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHdvcmRzW2ldID0gd29yZHNbaV0udG9Mb3dlckNhc2UoKTtcbiAgICAgICAgfVxuICAgICAgICB1dGlsXzEudW5pcXVlKHdvcmRzKTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHdvcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmluc2VydCh3b3Jkc1tpXSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFRyaWUucHJvdG90eXBlLmluc2VydCA9IGZ1bmN0aW9uICh3b3JkKSB7XG4gICAgICAgIHRoaXMuX2luc2VydCh3b3JkLCB0aGlzLnJvb3QpO1xuICAgICAgICB2YXIgbGFzdFdvcmQgPSB0aGlzLmxhc3RXb3JkO1xuICAgICAgICB0aGlzLmxhc3RXb3JkID0gd29yZDtcbiAgICAgICAgdmFyIHByZWZpeCA9IGNvbW1vblByZWZpeCh3b3JkLCBsYXN0V29yZCk7XG4gICAgICAgIGlmIChwcmVmaXggPT09IGxhc3RXb3JkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZyZWV6ZSA9IHRoaXMudW5pcXVlTm9kZShsYXN0V29yZCwgd29yZCwgdGhpcy5yb290KTtcbiAgICAgICAgaWYgKGZyZWV6ZSkge1xuICAgICAgICAgICAgdGhpcy5jb21iaW5lU3VmZml4Tm9kZShmcmVlemUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBUcmllLnByb3RvdHlwZS5faW5zZXJ0ID0gZnVuY3Rpb24gKHdvcmQsIG5vZGUpIHtcbiAgICAgICAgdmFyIGk7XG4gICAgICAgIHZhciBwcmVmaXg7XG4gICAgICAgIHZhciBuZXh0O1xuICAgICAgICB2YXIgcHJvcDtcbiAgICAgICAgLy8gRHVwbGljYXRlIHdvcmQgZW50cnkgLSBpZ25vcmVcbiAgICAgICAgaWYgKHdvcmQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gRG8gYW55IGV4aXN0aW5nIHByb3BzIHNoYXJlIGEgY29tbW9uIHByZWZpeD9cbiAgICAgICAgZm9yIChwcm9wIGluIG5vZGUpIHtcbiAgICAgICAgICAgIGlmICghbm9kZS5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJlZml4ID0gY29tbW9uUHJlZml4KHdvcmQsIHByb3ApO1xuICAgICAgICAgICAgaWYgKHByZWZpeC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFByb3AgaXMgYSBwcm9wZXIgcHJlZml4IC0gcmVjdXJzZSB0byBjaGlsZCBub2RlXG4gICAgICAgICAgICBpZiAocHJvcCA9PT0gcHJlZml4ICYmIG5vZGVfMS5Ob2RlLmlzTm9kZShub2RlLmNoaWxkKHByb3ApKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2luc2VydCh3b3JkLnNsaWNlKHByZWZpeC5sZW5ndGgpLCBub2RlLmNoaWxkKHByb3ApKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBEdXBsaWNhdGUgdGVybWluYWwgc3RyaW5nIC0gaWdub3JlXG4gICAgICAgICAgICBpZiAocHJvcCA9PT0gd29yZCAmJiBub2RlLmlzVGVybWluYWxTdHJpbmcocHJvcCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXh0ID0gbmV3IG5vZGVfMS5Ob2RlKCk7XG4gICAgICAgICAgICBuZXh0LnNldENoaWxkKHByb3Auc2xpY2UocHJlZml4Lmxlbmd0aCksIG5vZGUuY2hpbGQocHJvcCkpO1xuICAgICAgICAgICAgdGhpcy5hZGRUZXJtaW5hbChuZXh0LCB3b3JkID0gd29yZC5zbGljZShwcmVmaXgubGVuZ3RoKSk7XG4gICAgICAgICAgICBub2RlLmRlbGV0ZUNoaWxkKHByb3ApO1xuICAgICAgICAgICAgbm9kZS5zZXRDaGlsZChwcmVmaXgsIG5leHQpO1xuICAgICAgICAgICAgdGhpcy53b3JkQ291bnQrKztcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBObyBzaGFyZWQgcHJlZml4LiAgRW50ZXIgdGhlIHdvcmQgaGVyZSBhcyBhIHRlcm1pbmFsIHN0cmluZy5cbiAgICAgICAgdGhpcy5hZGRUZXJtaW5hbChub2RlLCB3b3JkKTtcbiAgICAgICAgdGhpcy53b3JkQ291bnQrKztcbiAgICB9O1xuICAgIC8vIEFkZCBhIHRlcm1pbmFsIHN0cmluZyB0byBub2RlLlxuICAgIC8vIElmIDIgY2hhcmFjdGVycyBvciBsZXNzLCBqdXN0IGFkZCB3aXRoIHZhbHVlID09PSAxLlxuICAgIC8vIElmIG1vcmUgdGhhbiAyIGNoYXJhY3RlcnMsIHBvaW50IHRvIHNoYXJlZCBub2RlXG4gICAgLy8gTm90ZSAtIGRvbid0IHByZW1hdHVyZWx5IHNoYXJlIHN1ZmZpeGVzIC0gdGhlc2VcbiAgICAvLyB0ZXJtaW5hbHMgbWF5IGJlY29tZSBzcGxpdCBhbmQgam9pbmVkIHdpdGggb3RoZXJcbiAgICAvLyBub2RlcyBpbiB0aGlzIHBhcnQgb2YgdGhlIHRyZWUuXG4gICAgVHJpZS5wcm90b3R5cGUuYWRkVGVybWluYWwgPSBmdW5jdGlvbiAobm9kZSwgcHJvcCkge1xuICAgICAgICBpZiAocHJvcC5sZW5ndGggPD0gMSkge1xuICAgICAgICAgICAgbm9kZS5zZXRDaGlsZChwcm9wLCAxKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbmV4dCA9IG5ldyBub2RlXzEuTm9kZSgpO1xuICAgICAgICBub2RlLnNldENoaWxkKHByb3BbMF0sIG5leHQpO1xuICAgICAgICB0aGlzLmFkZFRlcm1pbmFsKG5leHQsIHByb3Auc2xpY2UoMSkpO1xuICAgIH07XG4gICAgVHJpZS5wcm90b3R5cGUub3B0aW1pemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzY29yZXMgPSBbXTtcbiAgICAgICAgdGhpcy5jb21iaW5lU3VmZml4Tm9kZSh0aGlzLnJvb3QpO1xuICAgICAgICB0aGlzLnByZXBERlMoKTtcbiAgICAgICAgdGhpcy5jb3VudERlZ3JlZSh0aGlzLnJvb3QpO1xuICAgICAgICB0aGlzLnByZXBERlMoKTtcbiAgICAgICAgdGhpcy5jb2xsYXBzZUNoYWlucyh0aGlzLnJvb3QpO1xuICAgIH07XG4gICAgLy8gQ29udmVydCBUcmllIHRvIGEgREFXRyBieSBzaGFyaW5nIGlkZW50aWNhbCBub2Rlc1xuICAgIFRyaWUucHJvdG90eXBlLmNvbWJpbmVTdWZmaXhOb2RlID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgLy8gRnJvemVuIG5vZGUgLSBjYW4ndCBjaGFuZ2UuXG4gICAgICAgIGlmIChub2RlLl9jKSB7XG4gICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBNYWtlIHN1cmUgYWxsIGNoaWxkcmVuIGFyZSBjb21iaW5lZCBhbmQgZ2VuZXJhdGUgdW5pcXVlIG5vZGVcbiAgICAgICAgLy8gc2lnbmF0dXJlIGZvciB0aGlzIG5vZGUuXG4gICAgICAgIHZhciBzaWcgPSBbXTtcbiAgICAgICAgaWYgKG5vZGUuaXNUZXJtaW5hbCgpKSB7XG4gICAgICAgICAgICBzaWcucHVzaCgnIScpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwcm9wcyA9IG5vZGUucHJvcHMoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHByb3AgPSBwcm9wc1tpXTtcbiAgICAgICAgICAgIGlmIChub2RlXzEuTm9kZS5pc05vZGUobm9kZS5jaGlsZChwcm9wKSkpIHtcbiAgICAgICAgICAgICAgICBub2RlLnNldENoaWxkKHByb3AsIHRoaXMuY29tYmluZVN1ZmZpeE5vZGUobm9kZS5jaGlsZChwcm9wKSkpO1xuICAgICAgICAgICAgICAgIHNpZy5wdXNoKHByb3ApO1xuICAgICAgICAgICAgICAgIHNpZy5wdXNoKG5vZGUuY2hpbGQocHJvcCkuX2MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc2lnLnB1c2gocHJvcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNpZ1N0cmluZyA9IHNpZy5qb2luKCctJyk7XG4gICAgICAgIHZhciBzaGFyZWQgPSB0aGlzLnN1ZmZpeGVzW3NpZ1N0cmluZ107XG4gICAgICAgIGlmIChzaGFyZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBzaGFyZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdWZmaXhlc1tzaWdTdHJpbmddID0gbm9kZTtcbiAgICAgICAgbm9kZS5fYyA9IHRoaXMuY05leHQrKztcbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfTtcbiAgICBUcmllLnByb3RvdHlwZS5wcmVwREZTID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnZDdXIrKztcbiAgICB9O1xuICAgIFRyaWUucHJvdG90eXBlLnZpc2l0ZWQgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICBpZiAobm9kZS5fdiA9PT0gdGhpcy52Q3VyKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBub2RlLl92ID0gdGhpcy52Q3VyO1xuICAgIH07XG4gICAgVHJpZS5wcm90b3R5cGUuY291bnREZWdyZWUgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICBpZiAobm9kZS5fZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBub2RlLl9kID0gMDtcbiAgICAgICAgfVxuICAgICAgICBub2RlLl9kKys7XG4gICAgICAgIGlmICh0aGlzLnZpc2l0ZWQobm9kZSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJvcHMgPSBub2RlLnByb3BzKHRydWUpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmNvdW50RGVncmVlKG5vZGUuY2hpbGQocHJvcHNbaV0pKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gUmVtb3ZlIGludGVybWVkaWF0ZSBzaW5nbGV0b24gbm9kZXMgYnkgaG9pc3RpbmcgaW50byB0aGVpciBwYXJlbnRcbiAgICBUcmllLnByb3RvdHlwZS5jb2xsYXBzZUNoYWlucyA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIHZhciBwcm9wID0gJy1pbnZhbGlkLSc7XG4gICAgICAgIHZhciBwcm9wcztcbiAgICAgICAgdmFyIGk7XG4gICAgICAgIGlmICh0aGlzLnZpc2l0ZWQobm9kZSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBwcm9wcyA9IG5vZGUucHJvcHMoKTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwcm9wID0gcHJvcHNbaV07XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSBub2RlLmNoaWxkKHByb3ApO1xuICAgICAgICAgICAgaWYgKCFub2RlXzEuTm9kZS5pc05vZGUoY2hpbGQpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmNvbGxhcHNlQ2hhaW5zKGNoaWxkKTtcbiAgICAgICAgICAgIC8vIEhvaXN0IHRoZSBzaW5nbGV0b24gY2hpbGQncyBzaW5nbGUgcHJvcGVydHkgdG8gdGhlIHBhcmVudFxuICAgICAgICAgICAgaWYgKGNoaWxkLl9nICE9PSB1bmRlZmluZWQgJiYgKGNoaWxkLl9kID09PSAxIHx8IGNoaWxkLl9nLmxlbmd0aCA9PT0gMSkpIHtcbiAgICAgICAgICAgICAgICBub2RlLmRlbGV0ZUNoaWxkKHByb3ApO1xuICAgICAgICAgICAgICAgIHByb3AgKz0gY2hpbGQuX2c7XG4gICAgICAgICAgICAgICAgbm9kZS5zZXRDaGlsZChwcm9wLCBjaGlsZC5jaGlsZChjaGlsZC5fZykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIElkZW50aWZ5IHNpbmdsZXRvbiBub2Rlc1xuICAgICAgICBpZiAocHJvcHMubGVuZ3RoID09PSAxICYmICFub2RlLmlzVGVybWluYWwoKSkge1xuICAgICAgICAgICAgbm9kZS5fZyA9IHByb3A7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFRyaWUucHJvdG90eXBlLmlzV29yZCA9IGZ1bmN0aW9uICh3b3JkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzRnJhZ21lbnQod29yZCwgdGhpcy5yb290KTtcbiAgICB9O1xuICAgIFRyaWUucHJvdG90eXBlLmlzRnJhZ21lbnQgPSBmdW5jdGlvbiAod29yZCwgbm9kZSkge1xuICAgICAgICBpZiAod29yZC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBub2RlLmlzVGVybWluYWwoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5jaGlsZCh3b3JkKSA9PT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRmluZCBhIHByZWZpeCBvZiB3b3JkIHJlZmVyZW5jZSB0byBhIGNoaWxkXG4gICAgICAgIHZhciBwcm9wcyA9IG5vZGUucHJvcHModHJ1ZSk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwcm9wID0gcHJvcHNbaV07XG4gICAgICAgICAgICBpZiAocHJvcCA9PT0gd29yZC5zbGljZSgwLCBwcm9wLmxlbmd0aCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pc0ZyYWdtZW50KHdvcmQuc2xpY2UocHJvcC5sZW5ndGgpLCBub2RlLmNoaWxkKHByb3ApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvLyBGaW5kIGhpZ2hlc3Qgbm9kZSBpbiBUcmllIHRoYXQgaXMgb24gdGhlIHBhdGggdG8gd29yZFxuICAgIC8vIGFuZCB0aGF0IGlzIE5PVCBvbiB0aGUgcGF0aCB0byBvdGhlci5cbiAgICBUcmllLnByb3RvdHlwZS51bmlxdWVOb2RlID0gZnVuY3Rpb24gKHdvcmQsIG90aGVyLCBub2RlKSB7XG4gICAgICAgIHZhciBwcm9wcyA9IG5vZGUucHJvcHModHJ1ZSk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwcm9wID0gcHJvcHNbaV07XG4gICAgICAgICAgICBpZiAocHJvcCA9PT0gd29yZC5zbGljZSgwLCBwcm9wLmxlbmd0aCkpIHtcbiAgICAgICAgICAgICAgICBpZiAocHJvcCAhPT0gb3RoZXIuc2xpY2UoMCwgcHJvcC5sZW5ndGgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBub2RlLmNoaWxkKHByb3ApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy51bmlxdWVOb2RlKHdvcmQuc2xpY2UocHJvcC5sZW5ndGgpLCBvdGhlci5zbGljZShwcm9wLmxlbmd0aCksIG5vZGUuY2hpbGQocHJvcCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICAvLyBSZXR1cm4gcGFja2VkIHJlcHJlc2VudGF0aW9uIG9mIFRyaWUgYXMgYSBzdHJpbmcuXG4gICAgLy9cbiAgICAvLyBFYWNoIG5vZGUgb2YgdGhlIFRyaWUgaXMgb3V0cHV0IG9uIGEgc2luZ2xlIGxpbmUuXG4gICAgLy9cbiAgICAvLyBGb3IgZXhhbXBsZSBUcmllKFwidGhlIHRoZW0gdGhlcmUgdGhlc2lzIHRoaXNcIik6XG4gICAgLy8ge1xuICAgIC8vICAgIFwidGhcIjoge1xuICAgIC8vICAgICAgXCJpc1wiOiAxLFxuICAgIC8vICAgICAgXCJlXCI6IHtcbiAgICAvLyAgICAgICAgXCJcIjogMSxcbiAgICAvLyAgICAgICAgXCJtXCI6IDEsXG4gICAgLy8gICAgICAgIFwicmVcIjogMSxcbiAgICAvLyAgICAgICAgXCJzaXNcIjogMVxuICAgIC8vICAgICAgfVxuICAgIC8vICAgIH1cbiAgICAvLyAgfVxuICAgIC8vXG4gICAgLy8gV291bGQgYmUgcmVwZXJlc2VudGVkIGFzOlxuICAgIC8vXG4gICAgLy8gdGgwXG4gICAgLy8gZTBpc1xuICAgIC8vICFtLHJlLHNpc1xuICAgIC8vXG4gICAgLy8gVGhlIGxpbmUgYmVnaW5zIHdpdGggYSAnIScgaWZmIGl0IGlzIGEgdGVybWluYWwgbm9kZSBvZiB0aGUgVHJpZS5cbiAgICAvLyBGb3IgZWFjaCBzdHJpbmcgcHJvcGVydHkgaW4gYSBub2RlLCB0aGUgc3RyaW5nIGlzIGxpc3RlZCwgYWxvbmdcbiAgICAvLyB3aXRoIGEgKHJlbGF0aXZlISkgbGluZSBudW1iZXIgb2YgdGhlIG5vZGUgdGhhdCBzdHJpbmcgcmVmZXJlbmNlcy5cbiAgICAvLyBUZXJtaW5hbCBzdHJpbmdzICh0aG9zZSB3aXRob3V0IGNoaWxkIG5vZGUgcmVmZXJlbmNlcykgYXJlXG4gICAgLy8gc2VwYXJhdGVkIGJ5ICcsJyBjaGFyYWN0ZXJzLlxuICAgIFRyaWUucHJvdG90eXBlLnBhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIG5vZGVzID0gW107XG4gICAgICAgIHZhciBub2RlQ291bnQ7XG4gICAgICAgIHZhciBzeW1zID0ge307XG4gICAgICAgIHZhciBwb3MgPSAwO1xuICAgICAgICAvLyBNYWtlIHN1cmUgd2UndmUgY29tYmluZWQgYWxsIHRoZSBjb21tb24gc3VmZml4ZXNcbiAgICAgICAgdGhpcy5vcHRpbWl6ZSgpO1xuICAgICAgICBmdW5jdGlvbiBub2RlTGluZShub2RlKSB7XG4gICAgICAgICAgICB2YXIgbGluZSA9ICcnO1xuICAgICAgICAgICAgdmFyIHNlcCA9ICcnO1xuICAgICAgICAgICAgaWYgKG5vZGUuaXNUZXJtaW5hbCgpKSB7XG4gICAgICAgICAgICAgICAgbGluZSArPSBwdHJpZS5URVJNSU5BTF9QUkVGSVg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcHJvcHMgPSBub2RlLnByb3BzKCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHByb3AgPSBwcm9wc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5pc1Rlcm1pbmFsU3RyaW5nKHByb3ApKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmUgKz0gc2VwICsgcHJvcDtcbiAgICAgICAgICAgICAgICAgICAgc2VwID0gcHRyaWUuU1RSSU5HX1NFUDtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IG5vZGUuY2hpbGQocHJvcCk7XG4gICAgICAgICAgICAgICAgaWYgKHN5bXNbY2hpbGQuX25dKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmUgKz0gc2VwICsgcHJvcCArIHN5bXNbY2hpbGQuX25dO1xuICAgICAgICAgICAgICAgICAgICBzZXAgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciByZWYgPSBhbHBoYWNvZGVfMS50b0FscGhhQ29kZShub2RlLl9uIC0gY2hpbGQuX24gLSAxICsgc3ltQ291bnQpO1xuICAgICAgICAgICAgICAgIC8vIExhcmdlIHJlZmVyZW5jZSB0byBzbWFsbGVyIHN0cmluZyBzdWZmaXggLT4gZHVwbGljYXRlIHN1ZmZpeFxuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5fZyAmJiByZWYubGVuZ3RoID49IGNoaWxkLl9nLmxlbmd0aCAmJlxuICAgICAgICAgICAgICAgICAgICBub2RlLmlzVGVybWluYWxTdHJpbmcoY2hpbGQuX2cpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlZiA9IGNoaWxkLl9nO1xuICAgICAgICAgICAgICAgICAgICBsaW5lICs9IHNlcCArIHByb3AgKyByZWY7XG4gICAgICAgICAgICAgICAgICAgIHNlcCA9IHB0cmllLlNUUklOR19TRVA7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsaW5lICs9IHNlcCArIHByb3AgKyByZWY7XG4gICAgICAgICAgICAgICAgc2VwID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbGluZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUb3BvbG9naWNhbCBzb3J0IGludG8gbm9kZXMgYXJyYXlcbiAgICAgICAgZnVuY3Rpb24gbnVtYmVyTm9kZXMobm9kZSkge1xuICAgICAgICAgICAgaWYgKG5vZGUuX24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBwcm9wcyA9IG5vZGUucHJvcHModHJ1ZSk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbnVtYmVyTm9kZXMobm9kZS5jaGlsZChwcm9wc1tpXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbm9kZS5fbiA9IHBvcysrO1xuICAgICAgICAgICAgbm9kZXMudW5zaGlmdChub2RlKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaGlzdEFicyA9IG5ldyBoaXN0b2dyYW1fMS5IaXN0b2dyYW0oKTtcbiAgICAgICAgdmFyIGhpc3RSZWwgPSBuZXcgaGlzdG9ncmFtXzEuSGlzdG9ncmFtKCk7XG4gICAgICAgIGZ1bmN0aW9uIGFuYWx5emVSZWZzKG5vZGUpIHtcbiAgICAgICAgICAgIGlmIChzZWxmLnZpc2l0ZWQobm9kZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcHJvcHMgPSBub2RlLnByb3BzKHRydWUpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBwcm9wID0gcHJvcHNbaV07XG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkID0gbm9kZS5jaGlsZChwcm9wKTtcbiAgICAgICAgICAgICAgICB2YXIgcmVmID0gbm9kZS5fbiAtIGNoaWxkLl9uIC0gMTtcbiAgICAgICAgICAgICAgICAvLyBDb3VudCB0aGUgbnVtYmVyIG9mIHNpbmdsZS1jaGFyYWN0ZXIgcmVsYXRpdmUgcmVmc1xuICAgICAgICAgICAgICAgIGlmIChyZWYgPCBhbHBoYWNvZGVfMS5CQVNFKSB7XG4gICAgICAgICAgICAgICAgICAgIGhpc3RSZWwuYWRkKHJlZik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIENvdW50IHRoZSBudW1iZXIgb2YgY2hhcmFjdGVycyBzYXZlZCBieSBjb252ZXJ0aW5nIGFuIGFic29sdXRlXG4gICAgICAgICAgICAgICAgLy8gcmVmZXJlbmNlIHRvIGEgb25lLWNoYXJhY3RlciBzeW1ib2wuXG4gICAgICAgICAgICAgICAgaGlzdEFicy5hZGQoY2hpbGQuX24sIGFscGhhY29kZV8xLnRvQWxwaGFDb2RlKHJlZikubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICAgICAgYW5hbHl6ZVJlZnMoY2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHN5bWJvbENvdW50KCkge1xuICAgICAgICAgICAgdmFyIHRvcE5vZGVzID0gaGlzdEFicy5oaWdoZXN0KGFscGhhY29kZV8xLkJBU0UpO1xuICAgICAgICAgICAgdmFyIHNhdmluZ3MgPSBbXTtcbiAgICAgICAgICAgIHNhdmluZ3NbLTFdID0gMDtcbiAgICAgICAgICAgIHZhciBiZXN0ID0gMDtcbiAgICAgICAgICAgIHZhciBjb3VudCA9IDA7XG4gICAgICAgICAgICB2YXIgZGVmU2l6ZSA9IDMgKyBhbHBoYWNvZGVfMS50b0FscGhhQ29kZShub2RlQ291bnQpLmxlbmd0aDtcbiAgICAgICAgICAgIGZvciAodmFyIHN5bSA9IDA7IHN5bSA8IGFscGhhY29kZV8xLkJBU0U7IHN5bSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRvcE5vZGVzW3N5bV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQ3VtdWxhdGl2ZSBzYXZpbmdzIG9mOlxuICAgICAgICAgICAgICAgIC8vICAgc2F2ZWQgY2hhcmFjdGVycyBpbiByZWZzXG4gICAgICAgICAgICAgICAgLy8gICBtaW51cyBkZWZpbml0aW9uIHNpemVcbiAgICAgICAgICAgICAgICAvLyAgIG1pbnVzIHJlbGF0aXZlIHNpemUgd3JhcHBpbmcgdG8gMiBkaWdpdHNcbiAgICAgICAgICAgICAgICBzYXZpbmdzW3N5bV0gPSB0b3BOb2Rlc1tzeW1dWzFdIC0gZGVmU2l6ZSAtXG4gICAgICAgICAgICAgICAgICAgIGhpc3RSZWwuY291bnRPZihhbHBoYWNvZGVfMS5CQVNFIC0gc3ltIC0gMSkgK1xuICAgICAgICAgICAgICAgICAgICBzYXZpbmdzW3N5bSAtIDFdO1xuICAgICAgICAgICAgICAgIGxvZyhcInNhdmluZ3NbXCIgKyBzeW0gKyBcIl0gXCIgKyBzYXZpbmdzW3N5bV0gKyAnID0gJyArXG4gICAgICAgICAgICAgICAgICAgIHNhdmluZ3Nbc3ltIC0gMV0gKyAnICsnICtcbiAgICAgICAgICAgICAgICAgICAgdG9wTm9kZXNbc3ltXVsxXSArICcgLSAnICsgZGVmU2l6ZSArICcgLSAnICtcbiAgICAgICAgICAgICAgICAgICAgaGlzdFJlbC5jb3VudE9mKGFscGhhY29kZV8xLkJBU0UgLSBzeW0gLSAxKSArICcpJyk7XG4gICAgICAgICAgICAgICAgaWYgKHNhdmluZ3Nbc3ltXSA+PSBiZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGJlc3QgPSBzYXZpbmdzW3N5bV07XG4gICAgICAgICAgICAgICAgICAgIGNvdW50ID0gc3ltICsgMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gW2NvdW50LCB0b3BOb2Rlc107XG4gICAgICAgIH1cbiAgICAgICAgbnVtYmVyTm9kZXModGhpcy5yb290KTtcbiAgICAgICAgbm9kZUNvdW50ID0gbm9kZXMubGVuZ3RoO1xuICAgICAgICB0aGlzLnByZXBERlMoKTtcbiAgICAgICAgYW5hbHl6ZVJlZnModGhpcy5yb290KTtcbiAgICAgICAgdmFyIF9hID0gc3ltYm9sQ291bnQoKSwgc3ltQ291bnQgPSBfYVswXSwgdG9wTm9kZXMgPSBfYVsxXTtcbiAgICAgICAgdmFyIHN5bURlZnMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgc3ltID0gMDsgc3ltIDwgc3ltQ291bnQ7IHN5bSsrKSB7XG4gICAgICAgICAgICBzeW1zW3RvcE5vZGVzW3N5bV1bMF1dID0gYWxwaGFjb2RlXzEudG9BbHBoYUNvZGUoc3ltKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbm9kZUxpbmVzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZUNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIG5vZGVMaW5lc1tpXSA9IG5vZGVMaW5lKG5vZGVzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBQcmVwZW5kIHN5bWJvbHNcbiAgICAgICAgZm9yICh2YXIgc3ltID0gc3ltQ291bnQgLSAxOyBzeW0gPj0gMDsgc3ltLS0pIHtcbiAgICAgICAgICAgIG5vZGVMaW5lcy51bnNoaWZ0KGFscGhhY29kZV8xLnRvQWxwaGFDb2RlKHN5bSkgKyAnOicgK1xuICAgICAgICAgICAgICAgIGFscGhhY29kZV8xLnRvQWxwaGFDb2RlKG5vZGVDb3VudCAtXG4gICAgICAgICAgICAgICAgICAgIHBhcnNlSW50KHRvcE5vZGVzW3N5bV1bMF0sIDEwKSAtIDEpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZUxpbmVzLmpvaW4ocHRyaWUuTk9ERV9TRVApO1xuICAgIH07XG4gICAgcmV0dXJuIFRyaWU7XG59KCkpO1xuZXhwb3J0cy5UcmllID0gVHJpZTtcbmZ1bmN0aW9uIGNvbW1vblByZWZpeCh3MSwgdzIpIHtcbiAgICB2YXIgaTtcbiAgICB2YXIgbWF4bGVuID0gTWF0aC5taW4odzEubGVuZ3RoLCB3Mi5sZW5ndGgpO1xuICAgIGZvciAoaSA9IDA7IGkgPCBtYXhsZW4gJiYgdzFbaV0gPT09IHcyW2ldOyBpKyspIHsgfVxuICAgIHJldHVybiB3MS5zbGljZSgwLCBpKTtcbn1cbmZ1bmN0aW9uIGxvZyhtZXNzYWdlKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBhcmdzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICBpZiAoREVCVUcpIHtcbiAgICAgICAgY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgW21lc3NhZ2VdLmNvbmNhdChhcmdzKSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJpZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG52YXIgdXRpbF8xID0gcmVxdWlyZShcIi4vdXRpbFwiKTtcbnZhciBIaXN0b2dyYW0gPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEhpc3RvZ3JhbSgpIHtcbiAgICAgICAgdGhpcy5jb3VudHMgPSB7fTtcbiAgICB9XG4gICAgSGlzdG9ncmFtLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKGtleSwgbikge1xuICAgICAgICBpZiAobiA9PT0gdm9pZCAwKSB7IG4gPSAwOyB9XG4gICAgICAgIGlmICh0eXBlb2Yga2V5ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAga2V5ID0ga2V5LnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY291bnRzW2tleV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5jb3VudHNba2V5XSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb3VudHNba2V5XSArPSBuO1xuICAgIH07XG4gICAgSGlzdG9ncmFtLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoa2V5LCBuKSB7XG4gICAgICAgIGlmIChuID09PSB2b2lkIDApIHsgbiA9IDE7IH1cbiAgICAgICAgdGhpcy5pbml0KGtleSwgbik7XG4gICAgfTtcbiAgICBIaXN0b2dyYW0ucHJvdG90eXBlLmNvdW50T2YgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHRoaXMuaW5pdChrZXkpO1xuICAgICAgICByZXR1cm4gdGhpcy5jb3VudHNba2V5XTtcbiAgICB9O1xuICAgIEhpc3RvZ3JhbS5wcm90b3R5cGUuaGlnaGVzdCA9IGZ1bmN0aW9uICh0b3ApIHtcbiAgICAgICAgcmV0dXJuIHV0aWxfMS5zb3J0QnlWYWx1ZXModGhpcy5jb3VudHMsICdkZXNjJykuc2xpY2UoMCwgdG9wKTtcbiAgICB9O1xuICAgIHJldHVybiBIaXN0b2dyYW07XG59KCkpO1xuZXhwb3J0cy5IaXN0b2dyYW0gPSBIaXN0b2dyYW07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1oaXN0b2dyYW0uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuLypcbiAgTm9kZVxuXG4gIEVhY2ggbm9kZSBjb250YWlucyBzb21lIHNwZWNpYWwgcHJvcGVydGllcyAoYmVnaW5pbmcgd2l0aCAnXycpLCBhcyB3ZWxsIGFzXG4gIGFyYml0cmFyeSBzdHJpbmcgcHJvcGVydGllcyBmb3Igc3RyaW5nIGZyYWdtZW50cyBjb250YWluZWQgaW4gdGhlIGlucHV0IHdvcmRcbiAgZGljdGlvbmFyeS5cblxuICBTdHJpbmcgcHJvcGVydGllcyBjYW4gYmUgXCJ0ZXJtaW5hbFwiIChoYXZlIGEgbnVtZXJpYyB2YWx1ZSBvZiAxKSwgb3IgY2FuXG4gIHJlZmVyYW5jZSBhbm90aGVyIGNoaWxkIE5vZGUuXG5cbiAgTm90ZSB0aGF0IGEgTm9kZSBjb250YWluaW5nIGEgdGVybWluYWwgJycgKGVtcHR5IHN0cmluZykgcHJvcGVydHksIGlzIGl0c2VsZlxuICBtYXJrZWQgYXMgYSB0ZXJtaW5hbCBOb2RlICh0aGUgcHJlZml4IGxlYWRpbmcgdG8gdGhpcyBub2RlIGlzIGEgd29yZCBpbiB0aGVcbiAgZGljdGlvbmFyeS5cbiovXG52YXIgTm9kZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTm9kZSgpIHtcbiAgICAgICAgLy8gTnVtYmVyIG9mIGNoaWxkIHByb3BlcnRpZXMuXG4gICAgICAgIHRoaXMuX3AgPSAwO1xuICAgIH1cbiAgICBOb2RlLnByb3RvdHlwZS5jaGlsZCA9IGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgICAgIHJldHVybiB0aGlzW3Byb3BdO1xuICAgIH07XG4gICAgTm9kZS5wcm90b3R5cGUuc2V0Q2hpbGQgPSBmdW5jdGlvbiAocHJvcCwgdmFsdWUpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBpZiAocHJvcCAhPT0gdGhpcy5fZykge1xuICAgICAgICAgICAgLy8gZGVsZXRlIHNlbGYuX2c7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlbGZbcHJvcF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5fcCArPSAxO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9wID09PSAxKSB7XG4gICAgICAgICAgICAvLyB0aGlzLl9nID0gcHJvcDtcbiAgICAgICAgfVxuICAgICAgICBzZWxmW3Byb3BdID0gdmFsdWU7XG4gICAgfTtcbiAgICBOb2RlLnByb3RvdHlwZS5kZWxldGVDaGlsZCA9IGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgaWYgKHByb3AgPT09IHRoaXMuX2cpIHtcbiAgICAgICAgICAgIC8vIGRlbGV0ZSB0aGlzLl9nO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3AgLT0gMTtcbiAgICAgICAgZGVsZXRlIHNlbGZbcHJvcF07XG4gICAgICAgIGlmICh0aGlzLl9wID09PSAxKSB7XG4gICAgICAgICAgICAvLyB0aGlzLl9nID0gdGhpcy5wcm9wcygpWzBdO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyBBIHByb3BlcnR5IGlzIGEgdGVybWluYWwgc3RyaW5nXG4gICAgTm9kZS5wcm90b3R5cGUuaXNUZXJtaW5hbFN0cmluZyA9IGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdGhpcy5jaGlsZChwcm9wKSA9PT0gJ251bWJlcic7XG4gICAgfTtcbiAgICAvLyBUaGlzIG5vZGUgaXMgYSB0ZXJtaW5hbCBub2RlICh0aGUgcHJlZml4IHN0cmluZyBpcyBhIHdvcmQgaW4gdGhlXG4gICAgLy8gZGljdGlvbmFyeSkuXG4gICAgTm9kZS5wcm90b3R5cGUuaXNUZXJtaW5hbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNUZXJtaW5hbFN0cmluZygnJyk7XG4gICAgfTtcbiAgICAvLyBXZWxsIG9yZGVyZWQgbGlzdCBvZiBwcm9wZXJ0aWVzIGluIGEgbm9kZSAoc3RyaW5nIG9yIG9iamVjdCBwcm9wZXJ0aWVzKVxuICAgIC8vIFVzZSBub2Rlc09ubHkgPT09IHRydWUgdG8gcmV0dXJuIG9ubHkgcHJvcGVydGllcyBvZiBjaGlsZCBub2RlcyAobm90XG4gICAgLy8gdGVybWluYWwgc3RyaW5ncykuXG4gICAgTm9kZS5wcm90b3R5cGUucHJvcHMgPSBmdW5jdGlvbiAobm9kZXNPbmx5KSB7XG4gICAgICAgIHZhciBtZSA9IHRoaXM7XG4gICAgICAgIHZhciBwcm9wcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBwcm9wIGluIG1lKSB7XG4gICAgICAgICAgICBpZiAoIW1lLmhhc093blByb3BlcnR5KHByb3ApKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocHJvcCAhPT0gJycgJiYgcHJvcFswXSAhPT0gJ18nKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFub2Rlc09ubHkgfHwgTm9kZS5pc05vZGUodGhpcy5jaGlsZChwcm9wKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMucHVzaChwcm9wKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJvcHMuc29ydCgpO1xuICAgICAgICByZXR1cm4gcHJvcHM7XG4gICAgfTtcbiAgICAvLyBDb21wdXRlIGluLWRlZ3JlZSBvZiBhbGwgbm9kZXMgYW5kIG1hcmsgdGhlXG4gICAgLy8gc2luZ2xldG9uIG5vZGVzLlxuICAgIE5vZGUuY291bnREZWdyZWUgPSBmdW5jdGlvbiAocm9vdCkge1xuICAgICAgICB2YXIgd2Fsa2VyID0gbmV3IFdhbGtlcihyb290KTtcbiAgICAgICAgd2Fsa2VyLmRmcyhmdW5jdGlvbiAob3JkZXIsIG5vZGUpIHtcbiAgICAgICAgICAgIGlmIChvcmRlciA9PT0gJ3Bvc3QnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5vZGUuX2QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIG5vZGUuX2QgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbm9kZS5fZCsrO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8vIE5vZGUgaGFzIGp1c3QgYSBzaW5nbGUgKG5vbi1zcGVjaWFsKSBwcm9wZXJ0eS5cbiAgICBOb2RlLnByb3RvdHlwZS5pc1NpbmdsZXRvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3AgPT09IDEgJiYgIXRoaXMuaXNUZXJtaW5hbCgpO1xuICAgIH07XG4gICAgLy8gVGhpcyBmdW5jdGlvbiBjYW4gYmUgdXNlZCBhcyBhIFR5cGUgR3VhcmQgKFR5cGVTY3JpcHQpXG4gICAgTm9kZS5pc05vZGUgPSBmdW5jdGlvbiAobikge1xuICAgICAgICByZXR1cm4gbiBpbnN0YW5jZW9mIE5vZGU7XG4gICAgfTtcbiAgICByZXR1cm4gTm9kZTtcbn0oKSk7XG5leHBvcnRzLk5vZGUgPSBOb2RlO1xudmFyIFdhbGtlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gV2Fsa2VyKHJvb3QpIHtcbiAgICAgICAgdGhpcy5yb290ID0gcm9vdDtcbiAgICAgICAgdGhpcy52aXNpdE1hcCA9IG5ldyBNYXAoKTtcbiAgICB9XG4gICAgV2Fsa2VyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy52aXNpdE1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBXYWxrZXIucHJvdG90eXBlLnZpc2l0ID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgdGhpcy52aXNpdE1hcC5zZXQobm9kZSwgdHJ1ZSk7XG4gICAgfTtcbiAgICBXYWxrZXIucHJvdG90eXBlLnZpc2l0ZWQgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICByZXR1cm4gdGhpcy52aXNpdE1hcC5nZXQobm9kZSkgfHwgZmFsc2U7XG4gICAgfTtcbiAgICBXYWxrZXIucHJvdG90eXBlLmRmcyA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgdGhpcy5fZGZzKHRoaXMucm9vdCwgbnVsbCwgJycsIGhhbmRsZXIpO1xuICAgIH07XG4gICAgLy8gRGVwdGgtZmlyc3Qgc2VhcmNoIHZpYSBjYWxsYmFjayBoYW5kbGVyLlxuICAgIFdhbGtlci5wcm90b3R5cGUuX2RmcyA9IGZ1bmN0aW9uIChub2RlLCBwYXJlbnQsIHByb3BQYXJlbnQsIGhhbmRsZXIpIHtcbiAgICAgICAgLy8gVGhlIGhhbmRsZXIgY2FuIGJlIGNhbGxlZCBtdWx0aXBsZSB0aW1lcyBmcm9tIGRpZmZlcmVudCBwYXJlbnRzXG4gICAgICAgIC8vIHNpbmNlIE5vZGVzIGNhbiBmb3JtIGEgbXVsdGktZ3JhcGguXG4gICAgICAgIGhhbmRsZXIoJ3ByZScsIG5vZGUsIHBhcmVudCwgcHJvcFBhcmVudCk7XG4gICAgICAgIGlmICh0aGlzLnZpc2l0ZWQobm9kZSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZpc2l0KG5vZGUpO1xuICAgICAgICB2YXIgcHJvcHMgPSBub2RlLnByb3BzKHRydWUpO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIHByb3BzXzEgPSBwcm9wczsgX2kgPCBwcm9wc18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIHByb3AgPSBwcm9wc18xW19pXTtcbiAgICAgICAgICAgIHRoaXMuX2Rmcyhub2RlLmNoaWxkKHByb3ApLCBub2RlLCBwcm9wLCBoYW5kbGVyKTtcbiAgICAgICAgfVxuICAgICAgICBoYW5kbGVyKCdwb3N0Jywgbm9kZSwgcGFyZW50LCBwcm9wUGFyZW50KTtcbiAgICB9O1xuICAgIHJldHVybiBXYWxrZXI7XG59KCkpO1xuZXhwb3J0cy5XYWxrZXIgPSBXYWxrZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ub2RlLmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=